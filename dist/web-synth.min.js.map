{"version":3,"sources":["webpack:///web-synth.min.js","webpack:///webpack/bootstrap 3da8e4716c1d652df632","webpack:///./src/index.js","webpack:///./src/lib/AudioContext.js","webpack:///./src/lib/core/Constants.js","webpack:///./src/lib/core/Module.js","webpack:///./src/lib/core/SoundSource.js","webpack:///./src/lib/modules/index.js","webpack:///./src/WebSynth.js","webpack:///./src/lib/Synth.js","webpack:///./src/lib/core/Effect.js","webpack:///./src/lib/core/EffectManager.js","webpack:///./src/lib/core/Voice.js","webpack:///./src/lib/modules/Envelope.js","webpack:///./src/lib/modules/Filter.js","webpack:///./src/lib/modules/Master.js","webpack:///./src/lib/modules/Modulator.js","webpack:///./src/lib/modules/Noise.js","webpack:///./src/lib/modules/Oscillator.js","webpack:///./~/tunajs/tuna.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_WebSynth","_WebSynth2","win","window","WebSynth","Object","defineProperty","value","AudioCtx","AudioContext","webkitAudioContext","ctx","deprecatedFn","createGainNode","createDelayNode","f","TYPES","MASTER","OSCILLATOR","MODULATOR","FILTER","NOISE","REVERB","CHORUS","DELAY","ENVELOPE","CONST","ADSR","NOISE_WHITE","NOISE_PINK","NOISE_BROWN","WAVE_SINE","WAVE_SQUARE","WAVE_SAWTOOTH","WAVE_TRIANLGE","WAVE_CUSTOM","FILTER_LOWPASS","FILTER_HIGHPASS","FILTER_BANDPASS","FILTER_LOWSHELF","FILTER_HIGHSHELF","FILTER_PEAKING","FILTER_NOTCH","FILTER_ALLPASS","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_AudioContext","_AudioContext2","Module","this","gain","main","link","level","createGain","l","disconnect","ret","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_coreModule","_coreModule2","SoundSource","_Module","start","release","stop","_interopRequire","_Oscillator","Oscillator","_Modulator","Modulator","_Noise","Noise","_Filter","Filter","_Envelope","Envelope","_Master","Master","_interopRequireWildcard","newObj","hasOwnProperty","_libModules","Modules","_libCoreConstants","_libSynth","_libSynth2","_this","synth","methods","keys","fx","VARS","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","type","toLowerCase","label","_iterator","Symbol","iterator","next","done","err","play","note","_coreConstants","_coreVoice","_coreVoice2","Synth","modulesConfig","voices","attack","decay","sustain","String","Error","addModule","noteOn","noteOff","_EffectManager","_EffectManager2","Effect","mainEffect","sourceType","source","input","output","filter","_tunajs","_tunajs2","manager","_modules","_SoundSource","_SoundSource2","_Constants","Voice","soundSources","master","setupModules","linkModules","modConf","forEach","mod","push","_this2","currentModule","currentModuleType","destinationModule","dest","getLineOut","getLineIn","connect","lineOut","_this3","e","setEnvelope","setNote","_this4","adsr","getReleaseTime","resetEnvelope","now","currentTime","envelope","attackLevel","sustainLevel","attackEnd","t","getEnvelopeTarget","setValueAtTime","linearRampToValueAtTime","setTargetAtTime","cancelScheduledValues","_coreEffect","_coreEffect2","_Effect","freq","q","bypass","filterGain","setMainEffect","frequency","Q","filterType","env","destination","_coreSoundSource","_coreSoundSource2","createOscillator","createBufferSource","color","setColor","buffer","white","pink","brown","noiseBuffer","getNoiseBuffer","bufferSize","getBufferSize","getChannelData","Math","random","b0","b1","b2","b3","b4","b5","b6","lastOut","sampleRate","createBuffer","loop","detune","setDetune","definition","Tuna","context","console","log","connectify","userContext","userInstance","shimConnect","node","Array","shift","apply","arguments","Super","isPrototypeOf","slice","unshift","oconnect","__connectified__","proto","dbToWAVolume","db","max","round","pow","fmod","x","y","tmp","tmp2","pY","l2","toExponential","match","parseInt","toFixed","parseFloat","sign","abs","tanh","n","exp","initValue","userVal","defaultVal","pipe","param","val","activate","doActivate","activateNode","activateCallback","_bypass","set","_lastBypassValue","connectInOrder","nodeArray","error","getDefaults","result","defaults","automate","duration","startTime","method","dur","_is","automatable","name","FLOAT","BOOLEAN","STRING","INT","define","Bitcrusher","properties","processor","createScriptProcessor","step","phaser","last","onaudioprocess","inputBuffer","outputBuffer","bits","normfreq","floor","min","Cabinet","convolver","newConvolver","impulsePath","makeupNode","makeupGain","Convolver","impulse","dryLevel","wetLevel","Chorus","attenuator","splitter","createChannelSplitter","delayL","createDelay","delayR","feedbackGainNodeLR","feedbackGainNodeRL","merger","createChannelMerger","lfoL","LFO","delayTime","callback","lfoR","feedback","rate","delay","depth","phase","PI","_delay","offset","_depth","oscillation","_feedback","_rate","Compressor","compNode","createDynamicsCompressor","automakeup","threshold","ratio","knee","computeMakeup","magicCoefficient","_automakeup","createConvolver","dry","filterLow","createBiquadFilter","filterHigh","wet","highCut","lowCut","xhr","XMLHttpRequest","open","responseType","onreadystatechange","readyState","status","decodeAudioData","response","send","Delay","feedbackNode","cutoff","resonance","MoogFilter","in1","in2","in3","in4","out1","out2","out3","out4","fb","inputFactor","Overdrive","inputDrive","waveshaper","createWaveShaper","outputDrive","ws_table","Float32Array","k_nSamples","drive","outputGain","curveAmount","algorithmIndex","scaled","_drive","_curveAmount","_algorithmIndex","waveshaperAlgorithms","curve","_outputGain","amount","n_samples","k","a","abx","Phaser","filtersL","filtersR","feedbackGainNodeL","feedbackGainNodeR","filteredSignal","stage","baseModulationFrequency","stereoPhase","filters","_baseModulationFrequency","_stereoPhase","newPhase","_phase","PingPongDelay","stereoToMonoMix","feedbackLevel","delayLeft","delayRight","delayTimeLeft","delayTimeRight","_delayTimeLeft","_delayTimeRight","Tremolo","amplitudeL","amplitudeR","intensity","_intensity","WahWah","envelopeFollower","EnvelopeFollower","sweep","filterBp","filterPeaking","init","automode","enableAutoMode","sensitivity","baseFrequency","excursionOctaves","_automode","filterFreqTimeout","setFilterFreq","_baseFrequency","_excursionFrequency","_sweep","clearTimeout","setTimeout","bind","_sensitivity","_excursionOctaves","_resonance","jsNode","buffersize","attackTime","releaseTime","_envelope","_attackTime","_attackC","_releaseTime","_releaseC","_callback","_target","activated","returnCompute","event","compute","current","chan","rms","count","channels","numberOfChannels","sqrt","_frequency","_phaseInc","_offset","_oscillation","that","sin","toString"],"mappings":"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","file":"web-synth.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _WebSynth = __webpack_require__(/*! ./WebSynth */ 6);\n\t\n\tvar _WebSynth2 = _interopRequireDefault(_WebSynth);\n\t\n\tvar win = window || {};\n\t\n\twin.WebSynth = _WebSynth2['default'];\n\n/***/ },\n/* 1 */\n/*!*********************************!*\\\n  !*** ./src/lib/AudioContext.js ***!\n  \\*********************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tvar AudioCtx = window.AudioContext || window.webkitAudioContext,\n\t    ctx = new AudioCtx(),\n\t    deprecatedFn = {\n\t    createGainNode: 'createGain',\n\t    createDelayNode: 'createDelay'\n\t};\n\t\n\tfor (var f in deprecatedFn) {\n\t    if (typeof ctx[f] === 'function') {\n\t        ctx[deprecatedFn[f]] = ctx[f];\n\t    }\n\t}\n\t\n\texports['default'] = ctx;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/*!***********************************!*\\\n  !*** ./src/lib/core/Constants.js ***!\n  \\***********************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tvar TYPES = {\n\t    MASTER: 'Master',\n\t    OSCILLATOR: 'Oscillator',\n\t    MODULATOR: 'Modulator',\n\t    FILTER: 'Filter',\n\t    NOISE: 'Noise',\n\t    REVERB: 'Reverb',\n\t    CHORUS: 'Chorus',\n\t    DELAY: 'Delay',\n\t    ENVELOPE: 'Envelope'\n\t};\n\t\n\texports.TYPES = TYPES;\n\tvar CONST = {\n\t    MASTER: 'master',\n\t    ADSR: 'adsr',\n\t\n\t    NOISE_WHITE: 'white',\n\t    NOISE_PINK: 'pink',\n\t    NOISE_BROWN: 'brown',\n\t\n\t    WAVE_SINE: 'sine',\n\t    WAVE_SQUARE: 'square',\n\t    WAVE_SAWTOOTH: 'sawtooth',\n\t    WAVE_TRIANLGE: 'triangle',\n\t    WAVE_CUSTOM: 'custom',\n\t\n\t    FILTER_LOWPASS: 'lowpass',\n\t    FILTER_HIGHPASS: 'highpass',\n\t    FILTER_BANDPASS: 'bandpass',\n\t    FILTER_LOWSHELF: 'lowshelf',\n\t    FILTER_HIGHSHELF: 'highshelf',\n\t    FILTER_PEAKING: 'peaking',\n\t    FILTER_NOTCH: 'notch',\n\t    FILTER_ALLPASS: 'allpass'\n\t};\n\texports.CONST = CONST;\n\n/***/ },\n/* 3 */\n/*!********************************!*\\\n  !*** ./src/lib/core/Module.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar Module = (function () {\n\t    function Module(props) {\n\t        _classCallCheck(this, Module);\n\t\n\t        this.gain = null;\n\t        this.main = null;\n\t        this.link = props.link || null;\n\t        this.level = +props.level;\n\t\n\t        this.createGain(this.level);\n\t    }\n\t\n\t    _createClass(Module, [{\n\t        key: 'createGain',\n\t        value: function createGain(level) {\n\t            var l = level >= 0 ? level % 101 : 100;\n\t            this.gain = _AudioContext2['default'].createGain();\n\t            this.gain.gain.value = l / 100;\n\t        }\n\t    }, {\n\t        key: 'disconnect',\n\t        value: function disconnect() {\n\t            this.gain.disconnect();\n\t        }\n\t    }, {\n\t        key: 'getLineIn',\n\t        value: function getLineIn() {\n\t            return this.main;\n\t        }\n\t    }, {\n\t        key: 'getLineOut',\n\t        value: function getLineOut() {\n\t            return this.gain;\n\t        }\n\t    }, {\n\t        key: 'getEnvelopeTarget',\n\t        value: function getEnvelopeTarget(target) {\n\t            var ret = null;\n\t\n\t            if (this.main && this.main[target]) {\n\t                ret = this.main[target];\n\t            } else if (target === 'gain' && this.gain) {\n\t                ret = this.gain.gain;\n\t            }\n\t\n\t            return ret;\n\t        }\n\t    }]);\n\t\n\t    return Module;\n\t})();\n\t\n\texports['default'] = Module;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/*!*************************************!*\\\n  !*** ./src/lib/core/SoundSource.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreModule = __webpack_require__(/*! ../core/Module */ 3);\n\t\n\tvar _coreModule2 = _interopRequireDefault(_coreModule);\n\t\n\tvar SoundSource = (function (_Module) {\n\t    _inherits(SoundSource, _Module);\n\t\n\t    function SoundSource(props) {\n\t        _classCallCheck(this, SoundSource);\n\t\n\t        _get(Object.getPrototypeOf(SoundSource.prototype), 'constructor', this).call(this, props);\n\t    }\n\t\n\t    _createClass(SoundSource, [{\n\t        key: 'noteOn',\n\t        value: function noteOn() {\n\t            this.main.start(0);\n\t        }\n\t    }, {\n\t        key: 'noteOff',\n\t        value: function noteOff(release) {\n\t            this.main.stop(release);\n\t        }\n\t    }]);\n\t\n\t    return SoundSource;\n\t})(_coreModule2['default']);\n\t\n\texports['default'] = SoundSource;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/*!**********************************!*\\\n  !*** ./src/lib/modules/index.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\t\n\tvar _Oscillator = __webpack_require__(/*! ./Oscillator */ 16);\n\t\n\texports.Oscillator = _interopRequire(_Oscillator);\n\t\n\tvar _Modulator = __webpack_require__(/*! ./Modulator */ 14);\n\t\n\texports.Modulator = _interopRequire(_Modulator);\n\t\n\tvar _Noise = __webpack_require__(/*! ./Noise */ 15);\n\t\n\texports.Noise = _interopRequire(_Noise);\n\t\n\tvar _Filter = __webpack_require__(/*! ./Filter */ 12);\n\t\n\texports.Filter = _interopRequire(_Filter);\n\t\n\tvar _Envelope = __webpack_require__(/*! ./Envelope */ 11);\n\t\n\texports.Envelope = _interopRequire(_Envelope);\n\t\n\tvar _Master = __webpack_require__(/*! ./Master */ 13);\n\t\n\texports.Master = _interopRequire(_Master);\n\n/***/ },\n/* 6 */\n/*!*************************!*\\\n  !*** ./src/WebSynth.js ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _libModules = __webpack_require__(/*! ./lib/modules */ 5);\n\t\n\tvar Modules = _interopRequireWildcard(_libModules);\n\t\n\tvar _libCoreConstants = __webpack_require__(/*! ./lib/core/Constants */ 2);\n\t\n\tvar _libSynth = __webpack_require__(/*! ./lib/Synth */ 7);\n\t\n\tvar _libSynth2 = _interopRequireDefault(_libSynth);\n\t\n\tvar WebSynth = function WebSynth() {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, WebSynth);\n\t\n\t    var synth = new _libSynth2['default'](),\n\t        methods = Object.keys(Modules),\n\t        fx = undefined;\n\t\n\t    this.VARS = _libCoreConstants.CONST;\n\t\n\t    //Synth Module Creators\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        var _loop = function () {\n\t            var type = _step.value;\n\t\n\t            fx = type.toLowerCase();\n\t            _this[fx] = function (label, props) {\n\t                synth.module(type, label, props);\n\t                return _this;\n\t            };\n\t        };\n\t\n\t        for (var _iterator = methods[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            _loop();\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator['return']) {\n\t                _iterator['return']();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t\n\t    this.play = function (note) {\n\t        return synth.play(note);\n\t    };\n\t    this.stop = function (note) {\n\t        return synth.stop(note);\n\t    };\n\t};\n\t\n\texports['default'] = WebSynth;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/*!**************************!*\\\n  !*** ./src/lib/Synth.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _AudioContext = __webpack_require__(/*! ./AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreConstants = __webpack_require__(/*! ./core/Constants */ 2);\n\t\n\tvar _coreVoice = __webpack_require__(/*! ./core/Voice */ 10);\n\t\n\tvar _coreVoice2 = _interopRequireDefault(_coreVoice);\n\t\n\tvar Synth = (function () {\n\t    function Synth() {\n\t        _classCallCheck(this, Synth);\n\t\n\t        this.modulesConfig = {};\n\t        this.voices = {};\n\t\n\t        this.module('Master', _coreConstants.CONST.MASTER, {\n\t            level: 100\n\t        });\n\t\n\t        this.module('Envelope', _coreConstants.CONST.ADSR, {\n\t            link: _coreConstants.CONST.MASTER,\n\t            target: 'gain',\n\t            level: 100,\n\t            attack: null,\n\t            decay: 0.1,\n\t            sustain: 100,\n\t            release: 5\n\t        });\n\t    }\n\t\n\t    _createClass(Synth, [{\n\t        key: 'module',\n\t        value: function module(type, label, props) {\n\t            if (!type || type.constructor !== String) {\n\t                throw new Error('Synth Module :: missing type');\n\t            }\n\t\n\t            if (!label || label.constructor !== String) {\n\t                throw new Error('Synth Module :: missing label');\n\t            }\n\t\n\t            if (!props || props.constructor !== Object) {\n\t                throw new Error('Synth Module :: missing properties');\n\t            }\n\t\n\t            if (!this.modulesConfig[label]) {\n\t                this.addModule(type, label, props);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addModule',\n\t        value: function addModule(type, label, props) {\n\t            this.modulesConfig[label] = {\n\t                type: type,\n\t                props: props\n\t            };\n\t        }\n\t    }, {\n\t        key: 'play',\n\t        value: function play(note) {\n\t            if (!this.voices[note]) {\n\t                this.voices[note] = new _coreVoice2['default'](note, this.modulesConfig);\n\t                this.voices[note].noteOn();\n\t            }\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop(note) {\n\t            if (this.voices[note]) {\n\t                this.voices[note].noteOff();\n\t                this.voices[note] = undefined;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Synth;\n\t})();\n\t\n\texports['default'] = Synth;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/*!********************************!*\\\n  !*** ./src/lib/core/Effect.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreModule = __webpack_require__(/*! ../core/Module */ 3);\n\t\n\tvar _coreModule2 = _interopRequireDefault(_coreModule);\n\t\n\tvar _EffectManager = __webpack_require__(/*! ./EffectManager */ 9);\n\t\n\tvar _EffectManager2 = _interopRequireDefault(_EffectManager);\n\t\n\tvar Effect = (function (_Module) {\n\t    _inherits(Effect, _Module);\n\t\n\t    function Effect(props) {\n\t        _classCallCheck(this, Effect);\n\t\n\t        _get(Object.getPrototypeOf(Effect.prototype), 'constructor', this).call(this, props);\n\t        this.main = null;\n\t        this.mainEffect = null;\n\t    }\n\t\n\t    _createClass(Effect, [{\n\t        key: 'setMainEffect',\n\t        value: function setMainEffect(type, mainEffect, props) {\n\t            this.main = new _EffectManager2['default'][type](props);\n\t            this.mainEffect = this.main[mainEffect];\n\t        }\n\t    }, {\n\t        key: 'createGain',\n\t        value: function createGain() {\n\t            return false;\n\t        }\n\t    }, {\n\t        key: 'getLineIn',\n\t        value: function getLineIn(sourceType, source) {\n\t            if (sourceType === _coreConstants.TYPES.MODULATOR) {\n\t                return this.mainEffect[source.target];\n\t            } else {\n\t                return this.main.input;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getLineOut',\n\t        value: function getLineOut() {\n\t            return this.main.output;\n\t        }\n\t    }, {\n\t        key: 'getEnvelopeTarget',\n\t        value: function getEnvelopeTarget(target) {\n\t            var ret = null;\n\t\n\t            if (target === 'gain') {\n\t                ret = this.main.output.gain;\n\t            } else if (this.main && this.mainEffect && this.mainEffect[target]) {\n\t                ret = this.main.filter[target];\n\t            }\n\t\n\t            return ret;\n\t        }\n\t    }]);\n\t\n\t    return Effect;\n\t})(_coreModule2['default']);\n\t\n\texports['default'] = Effect;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/*!***************************************!*\\\n  !*** ./src/lib/core/EffectManager.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _tunajs = __webpack_require__(/*! tunajs */ 17);\n\t\n\tvar _tunajs2 = _interopRequireDefault(_tunajs);\n\t\n\tvar manager = new _tunajs2['default'](_AudioContext2['default']);\n\t\n\texports['default'] = manager;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/*!*******************************!*\\\n  !*** ./src/lib/core/Voice.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _modules = __webpack_require__(/*! ../modules */ 5);\n\t\n\tvar Modules = _interopRequireWildcard(_modules);\n\t\n\tvar _SoundSource = __webpack_require__(/*! ./SoundSource */ 4);\n\t\n\tvar _SoundSource2 = _interopRequireDefault(_SoundSource);\n\t\n\tvar _Constants = __webpack_require__(/*! ./Constants */ 2);\n\t\n\tvar Voice = (function () {\n\t    function Voice(note, modulesConfig) {\n\t        _classCallCheck(this, Voice);\n\t\n\t        this.note = note;\n\t        this.modulesConfig = modulesConfig;\n\t        this.modules = {};\n\t        this.soundSources = [];\n\t        this.master = null;\n\t\n\t        this.setupModules();\n\t        this.linkModules();\n\t    }\n\t\n\t    _createClass(Voice, [{\n\t        key: 'setupModules',\n\t        value: function setupModules() {\n\t            var _this = this;\n\t\n\t            var modConf = undefined,\n\t                m = undefined;\n\t\n\t            Object.keys(this.modulesConfig).forEach(function (mod) {\n\t                modConf = _this.modulesConfig[mod];\n\t                if (modConf.type && modConf.props) {\n\t                    m = new Modules[modConf.type](modConf.props);\n\t                    _this.modules[mod] = {\n\t                        type: modConf.type,\n\t                        instance: m\n\t                    };\n\t\n\t                    if (m.instance instanceof _SoundSource2['default']) {\n\t                        _this.soundSources.push(m);\n\t                    } else if (modConf.type === _Constants.TYPES.MASTER) {\n\t                        _this.master = m;\n\t                    }\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'linkModules',\n\t        value: function linkModules() {\n\t            var _this2 = this;\n\t\n\t            Object.keys(this.modules).forEach(function (mod) {\n\t                var currentModule = _this2.modules[mod].instance,\n\t                    currentModuleType = _this2.modules[mod].type,\n\t                    destinationModule = undefined,\n\t                    source = undefined,\n\t                    dest = undefined;\n\t\n\t                if (currentModule.link) {\n\t                    destinationModule = _this2.modules[currentModule.link];\n\t                    if (destinationModule && destinationModule.instance) {\n\t                        source = currentModule.getLineOut();\n\t                        dest = destinationModule.instance.getLineIn(currentModuleType, currentModule);\n\t                        //console.log(mod, source, currentModule.link, dest);\n\t                        if (source && dest) {\n\t                            source.connect(dest);\n\t                        }\n\t                    }\n\t                }\n\t            });\n\t\n\t            this.master.lineOut();\n\t        }\n\t    }, {\n\t        key: 'noteOn',\n\t        value: function noteOn() {\n\t            var _this3 = this;\n\t\n\t            var m = undefined,\n\t                dest = undefined;\n\t\n\t            Object.keys(this.modules).forEach(function (e) {\n\t                m = _this3.modules[e].instance;\n\t\n\t                if (typeof m.setEnvelope === 'function') {\n\t                    dest = _this3.modules[m.link] ? _this3.modules[m.link].instance : null;\n\t                    m.setEnvelope(dest);\n\t                }\n\t                if (typeof m.setNote === 'function') {\n\t                    m.setNote(+_this3.note);\n\t                }\n\t            });\n\t            Object.keys(this.modules).forEach(function (e) {\n\t                m = _this3.modules[e].instance;\n\t                if (typeof m.noteOn === 'function') {\n\t                    m.noteOn();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'noteOff',\n\t        value: function noteOff() {\n\t            var _this4 = this;\n\t\n\t            var release = 0,\n\t                adsr = this.modules.adsr.instance,\n\t                m = undefined,\n\t                dest = undefined;\n\t\n\t            release = adsr.getReleaseTime();\n\t\n\t            Object.keys(this.modules).forEach(function (e) {\n\t                m = _this4.modules[e].instance;\n\t                if (typeof m.resetEnvelope === 'function') {\n\t                    dest = _this4.modules[m.link] ? _this4.modules[m.link].instance : null;\n\t                    m.resetEnvelope(dest);\n\t                }\n\t            });\n\t            Object.keys(this.modules).forEach(function (e) {\n\t                m = _this4.modules[e].instance;\n\t                if (typeof m.noteOff === 'function') {\n\t                    m.noteOff(release);\n\t                }\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Voice;\n\t})();\n\t\n\texports['default'] = Voice;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/*!*************************************!*\\\n  !*** ./src/lib/modules/Envelope.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreModule = __webpack_require__(/*! ../core/Module */ 3);\n\t\n\tvar _coreModule2 = _interopRequireDefault(_coreModule);\n\t\n\tvar Envelope = (function (_Module) {\n\t    _inherits(Envelope, _Module);\n\t\n\t    function Envelope(props) {\n\t        _classCallCheck(this, Envelope);\n\t\n\t        _get(Object.getPrototypeOf(Envelope.prototype), 'constructor', this).call(this, props);\n\t\n\t        this.target = props.target || null;\n\t\n\t        this.attack = props.attack;\n\t        this.decay = props.decay;\n\t        this.sustain = props.sustain;\n\t        this.release = props.release;\n\t    }\n\t\n\t    _createClass(Envelope, [{\n\t        key: 'createGain',\n\t        value: function createGain() {\n\t            return false;\n\t        }\n\t    }, {\n\t        key: 'getReleaseTime',\n\t        value: function getReleaseTime() {\n\t            var now = _AudioContext2['default'].currentTime,\n\t                release = undefined;\n\t\n\t            if (this.release) {\n\t                release = now + this.release / 10.0;\n\t            } else {\n\t                release = now + 0.2;\n\t            }\n\t\n\t            return release;\n\t        }\n\t    }, {\n\t        key: 'setEnvelope',\n\t        value: function setEnvelope(dest) {\n\t            var now = _AudioContext2['default'].currentTime,\n\t                envelope = this.level % 101,\n\t                attackLevel = undefined,\n\t                sustainLevel = undefined,\n\t                attackEnd = this.attack / 20.0,\n\t                t = undefined;\n\t\n\t            if (this.target === 'gain') {\n\t                attackLevel = envelope / 100;\n\t                sustainLevel = this.sustain / 100.0;\n\t            } else {\n\t                attackLevel = envelope * 72; // Range: 0-7200: 6-octave range\n\t                sustainLevel = attackLevel * this.sustain / 100.0; // range: 0-7200\n\t            }\n\t\n\t            if (!attackEnd) {\n\t                attackEnd = 0.05; // tweak to get target decay to work properly\n\t            }\n\t\n\t            if (dest && typeof dest.getEnvelopeTarget === 'function') {\n\t                t = dest.getEnvelopeTarget(this.target);\n\t\n\t                if (t) {\n\t                    t.setValueAtTime(0, now);\n\t                    t.linearRampToValueAtTime(attackLevel, now + attackEnd);\n\t                    t.setTargetAtTime(sustainLevel, now + attackEnd, this.decay / 100.0);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'resetEnvelope',\n\t        value: function resetEnvelope(dest) {\n\t            var now = _AudioContext2['default'].currentTime,\n\t                t = undefined;\n\t\n\t            if (dest && typeof dest.getEnvelopeTarget === 'function') {\n\t                t = dest.getEnvelopeTarget(this.target);\n\t\n\t                if (t) {\n\t                    t.cancelScheduledValues(now);\n\t                    if (this.target === 'gain') {\n\t                        t.setValueAtTime(t.value, now);\n\t                    }\n\t                    t.setTargetAtTime(0, now, this.release / 100.0);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getLineOut',\n\t        value: function getLineOut() {\n\t            return false;\n\t        }\n\t    }]);\n\t\n\t    return Envelope;\n\t})(_coreModule2['default']);\n\t\n\texports['default'] = Envelope;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/*!***********************************!*\\\n  !*** ./src/lib/modules/Filter.js ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreModule = __webpack_require__(/*! ../core/Module */ 3);\n\t\n\tvar _coreModule2 = _interopRequireDefault(_coreModule);\n\t\n\tvar _coreEffect = __webpack_require__(/*! ../core/Effect */ 8);\n\t\n\tvar _coreEffect2 = _interopRequireDefault(_coreEffect);\n\t\n\tvar Filter = (function (_Effect) {\n\t    _inherits(Filter, _Effect);\n\t\n\t    function Filter(props) {\n\t        _classCallCheck(this, Filter);\n\t\n\t        _get(Object.getPrototypeOf(Filter.prototype), 'constructor', this).call(this, props);\n\t\n\t        this.freq = +props.freq || 11000;\n\t        this.q = +props.q || 10;\n\t        this.bypass = +props.bypass || 0;\n\t        this.filterGain = this.level || 0;\n\t\n\t        this.setMainEffect('Filter', 'filter', {\n\t            frequency: this.freq, //20 to 22050\n\t            Q: this.q, //0.001 to 100\n\t            gain: this.filterGain, //-40 to 40\n\t            filterType: props.type || _coreConstants.CONST.FILTER_LOWPASS,\n\t            bypass: this.bypass\n\t        });\n\t    }\n\t\n\t    return Filter;\n\t})(_coreEffect2['default']);\n\t\n\texports['default'] = Filter;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/*!***********************************!*\\\n  !*** ./src/lib/modules/Master.js ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreModule = __webpack_require__(/*! ../core/Module */ 3);\n\t\n\tvar _coreModule2 = _interopRequireDefault(_coreModule);\n\t\n\tvar Master = (function (_Module) {\n\t    _inherits(Master, _Module);\n\t\n\t    function Master(props) {\n\t        _classCallCheck(this, Master);\n\t\n\t        _get(Object.getPrototypeOf(Master.prototype), 'constructor', this).call(this, props);\n\t\n\t        this.main = _AudioContext2['default'].createGain();\n\t        this.env = props.envelope || null;\n\t        this.link = null;\n\t    }\n\t\n\t    //setEnvelope () {\n\t    //    let now = AudioContext.currentTime,\n\t    //        envAttackEnd;\n\t    //\n\t    //    this.envelope.gain.value = 0.0;\n\t    //\n\t    //    if (this.env) {\n\t    //        envAttackEnd = now + (this.env.attack / 20.0);\n\t    //        this.envelope.gain.setValueAtTime(0.0, now);\n\t    //        this.envelope.gain.linearRampToValueAtTime(1.0, envAttackEnd);\n\t    //        this.envelope.gain.setTargetAtTime(\n\t    //            (this.env.sustain / 100.0),\n\t    //            envAttackEnd,\n\t    //            (this.env.decay / 100.0) + 0.001\n\t    //        );\n\t    //    } else {\n\t    //        this.envelope.gain.setValueAtTime(0.0, now);\n\t    //        this.envelope.gain.linearRampToValueAtTime(1.0, now + 0.02);\n\t    //        this.envelope.gain.setTargetAtTime(1, now + 0.02, 0 + 0.001);\n\t    //        this.envelope.gain.value = 1;\n\t    //    }\n\t    //}\n\t    //\n\t    //resetEnvelope () {\n\t    //    let now = AudioContext.currentTime;\n\t    //\n\t    //    if (this.env) {\n\t    //        this.envelope.gain.cancelScheduledValues(now);\n\t    //        this.envelope.gain.setValueAtTime(this.envelope.gain.value, now);\n\t    //        this.envelope.gain.setTargetAtTime(0.0, now, (this.env.release / 100));\n\t    //    } else {\n\t    //        this.envelope.gain.cancelScheduledValues(now);\n\t    //        this.envelope.gain.setValueAtTime(this.envelope.gain.value, now);\n\t    //        this.envelope.gain.setTargetAtTime(0.0, now, 0.05);\n\t    //    }\n\t    //}\n\t\n\t    _createClass(Master, [{\n\t        key: 'getLineIn',\n\t        value: function getLineIn() {\n\t            return this.main;\n\t        }\n\t    }, {\n\t        key: 'lineOut',\n\t        value: function lineOut() {\n\t            this.main.connect(this.gain);\n\t            this.gain.connect(_AudioContext2['default'].destination);\n\t        }\n\t    }]);\n\t\n\t    return Master;\n\t})(_coreModule2['default']);\n\t\n\texports['default'] = Master;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/*!**************************************!*\\\n  !*** ./src/lib/modules/Modulator.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreSoundSource = __webpack_require__(/*! ../core/SoundSource */ 4);\n\t\n\tvar _coreSoundSource2 = _interopRequireDefault(_coreSoundSource);\n\t\n\tvar Modulator = (function (_SoundSource) {\n\t    _inherits(Modulator, _SoundSource);\n\t\n\t    function Modulator(props) {\n\t        _classCallCheck(this, Modulator);\n\t\n\t        _get(Object.getPrototypeOf(Modulator.prototype), 'constructor', this).call(this, props);\n\t\n\t        this.freq = +props.freq || 440;\n\t        this.target = props.target || 'frequency';\n\t\n\t        this.main = _AudioContext2['default'].createOscillator();\n\t        this.main.type = props.type || _coreConstants.CONST.WAVE_SINE;\n\t        this.main.connect(this.gain);\n\t    }\n\t\n\t    _createClass(Modulator, [{\n\t        key: 'setNote',\n\t        value: function setNote() {\n\t            var f = this.freq % 11;\n\t            this.main.frequency.value = f;\n\t        }\n\t    }, {\n\t        key: 'getLineIn',\n\t        value: function getLineIn() {\n\t            return this.main.frequency;\n\t        }\n\t    }]);\n\t\n\t    return Modulator;\n\t})(_coreSoundSource2['default']);\n\t\n\texports['default'] = Modulator;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/*!**********************************!*\\\n  !*** ./src/lib/modules/Noise.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreSoundSource = __webpack_require__(/*! ../core/SoundSource */ 4);\n\t\n\tvar _coreSoundSource2 = _interopRequireDefault(_coreSoundSource);\n\t\n\tvar Noise = (function (_SoundSource) {\n\t    _inherits(Noise, _SoundSource);\n\t\n\t    function Noise(props) {\n\t        _classCallCheck(this, Noise);\n\t\n\t        _get(Object.getPrototypeOf(Noise.prototype), 'constructor', this).call(this, props);\n\t\n\t        this.main = _AudioContext2['default'].createBufferSource();\n\t        this.main.connect(this.gain);\n\t\n\t        this.color = props.color || 'white';\n\t        this.setColor();\n\t    }\n\t\n\t    _createClass(Noise, [{\n\t        key: 'setColor',\n\t        value: function setColor() {\n\t            switch (this.color) {\n\t                case 'white':\n\t                    this.main.buffer = this.white();\n\t                    break;\n\t                case 'pink':\n\t                    this.main.buffer = this.pink();\n\t                    break;\n\t                case 'brown':\n\t                    this.main.buffer = this.brown();\n\t                    break;\n\t                default:\n\t                    throw new Error('Invalid Noise color: ' + this.color);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'white',\n\t        value: function white() {\n\t            var noiseBuffer = this.getNoiseBuffer(),\n\t                bufferSize = this.getBufferSize(),\n\t                output = noiseBuffer.getChannelData(0);\n\t\n\t            for (var i = 0; i < bufferSize; i++) {\n\t                output[i] = Math.random() * 2 - 1;\n\t            }\n\t\n\t            return noiseBuffer;\n\t        }\n\t    }, {\n\t        key: 'pink',\n\t        value: function pink() {\n\t            var b0 = undefined,\n\t                b1 = undefined,\n\t                b2 = undefined,\n\t                b3 = undefined,\n\t                b4 = undefined,\n\t                b5 = undefined,\n\t                b6 = undefined,\n\t                noiseBuffer = this.getNoiseBuffer(),\n\t                bufferSize = this.getBufferSize(),\n\t                output = noiseBuffer.getChannelData(0),\n\t                white = undefined;\n\t\n\t            b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n\t\n\t            for (var i = 0; i < bufferSize; i++) {\n\t                white = Math.random() * 2 - 1;\n\t\n\t                b0 = 0.99886 * b0 + white * 0.0555179;\n\t                b1 = 0.99332 * b1 + white * 0.0750759;\n\t                b2 = 0.96900 * b2 + white * 0.1538520;\n\t                b3 = 0.86650 * b3 + white * 0.3104856;\n\t                b4 = 0.55000 * b4 + white * 0.5329522;\n\t                b5 = -0.7616 * b5 - white * 0.0168980;\n\t\n\t                output[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n\t                output[i] *= 0.11;\n\t                b6 = white * 0.115926;\n\t            }\n\t\n\t            return noiseBuffer;\n\t        }\n\t    }, {\n\t        key: 'brown',\n\t        value: function brown() {\n\t            var noiseBuffer = this.getNoiseBuffer(),\n\t                bufferSize = this.getBufferSize(),\n\t                output = noiseBuffer.getChannelData(0),\n\t                lastOut = 0.0,\n\t                white = undefined;\n\t\n\t            for (var i = 0; i < bufferSize; i++) {\n\t                white = white = Math.random() * 2 - 1;\n\t\n\t                output[i] = (lastOut + 0.02 * white) / 1.02;\n\t                lastOut = output[i];\n\t                output[i] *= 3.5;\n\t            }\n\t\n\t            return noiseBuffer;\n\t        }\n\t    }, {\n\t        key: 'getBufferSize',\n\t        value: function getBufferSize() {\n\t            return 2 * _AudioContext2['default'].sampleRate;\n\t        }\n\t    }, {\n\t        key: 'getNoiseBuffer',\n\t        value: function getNoiseBuffer() {\n\t            var bufferSize = this.getBufferSize(),\n\t                noiseBuffer = _AudioContext2['default'].createBuffer(1, bufferSize, _AudioContext2['default'].sampleRate);\n\t            return noiseBuffer;\n\t        }\n\t    }, {\n\t        key: 'setNote',\n\t        value: function setNote() {\n\t            this.main.loop = true;\n\t        }\n\t    }]);\n\t\n\t    return Noise;\n\t})(_coreSoundSource2['default']);\n\t\n\texports['default'] = Noise;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/*!***************************************!*\\\n  !*** ./src/lib/modules/Oscillator.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _coreConstants = __webpack_require__(/*! ../core/Constants */ 2);\n\t\n\tvar _AudioContext = __webpack_require__(/*! ../AudioContext */ 1);\n\t\n\tvar _AudioContext2 = _interopRequireDefault(_AudioContext);\n\t\n\tvar _coreSoundSource = __webpack_require__(/*! ../core/SoundSource */ 4);\n\t\n\tvar _coreSoundSource2 = _interopRequireDefault(_coreSoundSource);\n\t\n\tvar Oscillator = (function (_SoundSource) {\n\t    _inherits(Oscillator, _SoundSource);\n\t\n\t    function Oscillator(props) {\n\t        _classCallCheck(this, Oscillator);\n\t\n\t        _get(Object.getPrototypeOf(Oscillator.prototype), 'constructor', this).call(this, props);\n\t\n\t        this.detune = +props.detune || 0;\n\t\n\t        this.main = _AudioContext2['default'].createOscillator();\n\t        this.main.type = props.type || _coreConstants.CONST.WAVE_SINE;\n\t        this.main.connect(this.gain);\n\t\n\t        this.setDetune();\n\t    }\n\t\n\t    _createClass(Oscillator, [{\n\t        key: 'setDetune',\n\t        value: function setDetune() {\n\t            if (this.detune > 1200) {\n\t                this.detune = 1200;\n\t            } else if (this.detune < -1200) {\n\t                this.detune = -1200;\n\t            }\n\t\n\t            this.main.detune.value = this.detune;\n\t        }\n\t    }, {\n\t        key: 'setNote',\n\t        value: function setNote(note) {\n\t            this.main.frequency.value = note;\n\t        }\n\t    }, {\n\t        key: 'getLineIn',\n\t        value: function getLineIn(sourceType, source) {\n\t            if (sourceType === _coreConstants.TYPES.MODULATOR) {\n\t                return this.main[source.target];\n\t            } else {\n\t                return this.main.frequency;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Oscillator;\n\t})(_coreSoundSource2['default']);\n\t\n\texports['default'] = Oscillator;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/*!**************************!*\\\n  !*** ./~/tunajs/tuna.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t    Copyright (c) 2012 DinahMoe AB & Oskar Eriksson\n\t\n\t    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation\n\t    files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy,\n\t    modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software\n\t    is furnished to do so, subject to the following conditions:\n\t\n\t    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\t\n\t    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\n\t    OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t*/\n\t(function(window) {\n\t    var userContext,\n\t        userInstance,\n\t        pipe = function(param, val) {\n\t            param.value = val;\n\t        },\n\t        Super = Object.create(null, {\n\t            activate: {\n\t                writable: true,\n\t                value: function(doActivate) {\n\t                    if (doActivate) {\n\t                        this.input.disconnect();\n\t                        this.input.connect(this.activateNode);\n\t                        if (this.activateCallback) {\n\t                            this.activateCallback(doActivate);\n\t                        }\n\t                    } else {\n\t                        this.input.disconnect();\n\t                        this.input.connect(this.output);\n\t                    }\n\t                }\n\t            },\n\t            bypass: {\n\t                get: function() {\n\t                    return this._bypass;\n\t                },\n\t                set: function(value) {\n\t                    if (this._lastBypassValue === value) {\n\t                        return;\n\t                    }\n\t                    this._bypass = value;\n\t                    this.activate(!value);\n\t                    this._lastBypassValue = value;\n\t                }\n\t            },\n\t            connect: {\n\t                value: function(target) {\n\t                    this.output.connect(target);\n\t                }\n\t            },\n\t            disconnect: {\n\t                value: function(target) {\n\t                    this.output.disconnect(target);\n\t                }\n\t            },\n\t            connectInOrder: {\n\t                value: function(nodeArray) {\n\t                    var i = nodeArray.length - 1;\n\t                    while (i--) {\n\t                        if (!nodeArray[i].connect) {\n\t                            return console.error(\"AudioNode.connectInOrder: TypeError: Not an AudioNode.\", nodeArray[i]);\n\t                        }\n\t                        if (nodeArray[i + 1].input) {\n\t                            nodeArray[i].connect(nodeArray[i + 1].input);\n\t                        } else {\n\t                            nodeArray[i].connect(nodeArray[i + 1]);\n\t                        }\n\t                    }\n\t                }\n\t            },\n\t            getDefaults: {\n\t                value: function() {\n\t                    var result = {};\n\t                    for (var key in this.defaults) {\n\t                        result[key] = this.defaults[key].value;\n\t                    }\n\t                    return result;\n\t                }\n\t            },\n\t            automate: {\n\t                value: function(property, value, duration, startTime) {\n\t                    var start = startTime ? ~~(startTime / 1000) : userContext.currentTime,\n\t                        dur = duration ? ~~(duration / 1000) : 0,\n\t                        _is = this.defaults[property],\n\t                        param = this[property],\n\t                        method;\n\t\n\t                    if (param) {\n\t                        if (_is.automatable) {\n\t                            if (!duration) {\n\t                                method = \"setValueAtTime\";\n\t                            } else {\n\t                                method = \"linearRampToValueAtTime\";\n\t                                param.cancelScheduledValues(start);\n\t                                param.setValueAtTime(param.value, start);\n\t                            }\n\t                            param[method](value, dur + start);\n\t                        } else {\n\t                            param = value;\n\t                        }\n\t                    } else {\n\t                        console.error(\"Invalid Property for \" + this.name);\n\t                    }\n\t                }\n\t            }\n\t        }),\n\t        FLOAT = \"float\",\n\t        BOOLEAN = \"boolean\",\n\t        STRING = \"string\",\n\t        INT = \"int\";\n\t\n\t    if (typeof module !== \"undefined\" && module.exports) {\n\t        module.exports = Tuna;\n\t    } else if (true) {\n\t        window.define(\"Tuna\", definition);\n\t    } else {\n\t        window.Tuna = Tuna;\n\t    }\n\t\n\t    function definition() {\n\t        return Tuna;\n\t    }\n\t\n\t    function Tuna(context) {\n\t        if (!(this instanceof Tuna)) {\n\t            return new Tuna(context);\n\t        }\n\t        if (!window.AudioContext) {\n\t            window.AudioContext = window.webkitAudioContext;\n\t        }\n\t        if (!context) {\n\t            console.log(\"tuna.js: Missing audio context! Creating a new context for you.\");\n\t            context = window.AudioContext && (new window.AudioContext());\n\t        }\n\t        if (!context) {\n\t            throw new Error(\"Tuna cannot initialize because this environment does not support web audio.\");\n\t        }\n\t        connectify(context);\n\t        userContext = context;\n\t        userInstance = this;\n\t    }\n\t\n\t    function connectify(context) {\n\t        if (context.__connectified__ === true) return;\n\t\n\t        var gain = context.createGain(),\n\t            proto = Object.getPrototypeOf(Object.getPrototypeOf(gain)),\n\t            oconnect = proto.connect;\n\t\n\t        proto.connect = shimConnect;\n\t        context.__connectified__ = true; // Prevent overriding connect more than once\n\t\n\t        function shimConnect() {\n\t            var node = Array.prototype.shift.apply(arguments);\n\t            node = Super.isPrototypeOf ? (Super.isPrototypeOf(node) ? node.input : node) : (node.input || node);\n\t            arguments = Array.prototype.slice.call(arguments);\n\t            arguments.unshift(node);\n\t            oconnect.apply(this, arguments);\n\t            return node;\n\t        }\n\t    }\n\t\n\t    function dbToWAVolume(db) {\n\t        return Math.max(0, Math.round(100 * Math.pow(2, db / 6)) / 100);\n\t    }\n\t\n\t    function fmod(x, y) {\n\t        // http://kevin.vanzonneveld.net\n\t        // *     example 1: fmod(5.7, 1.3);\n\t        // *     returns 1: 0.5\n\t        var tmp, tmp2, p = 0,\n\t            pY = 0,\n\t            l = 0.0,\n\t            l2 = 0.0;\n\t\n\t        tmp = x.toExponential().match(/^.\\.?(.*)e(.+)$/);\n\t        p = parseInt(tmp[2], 10) - (tmp[1] + \"\").length;\n\t        tmp = y.toExponential().match(/^.\\.?(.*)e(.+)$/);\n\t        pY = parseInt(tmp[2], 10) - (tmp[1] + \"\").length;\n\t\n\t        if (pY > p) {\n\t            p = pY;\n\t        }\n\t\n\t        tmp2 = (x % y);\n\t\n\t        if (p < -100 || p > 20) {\n\t            // toFixed will give an out of bound error so we fix it like this:\n\t            l = Math.round(Math.log(tmp2) / Math.log(10));\n\t            l2 = Math.pow(10, l);\n\t\n\t            return (tmp2 / l2).toFixed(l - p) * l2;\n\t        } else {\n\t            return parseFloat(tmp2.toFixed(-p));\n\t        }\n\t    }\n\t\n\t    function sign(x) {\n\t        if (x === 0) {\n\t            return 1;\n\t        } else {\n\t            return Math.abs(x) / x;\n\t        }\n\t    }\n\t\n\t    function tanh(n) {\n\t        return (Math.exp(n) - Math.exp(-n)) / (Math.exp(n) + Math.exp(-n));\n\t    }\n\t\n\t    function initValue(userVal, defaultVal) {\n\t        return userVal === undefined ? defaultVal : userVal;\n\t    }\n\t\n\t    Tuna.prototype.Bitcrusher = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.bufferSize = properties.bufferSize || this.defaults.bufferSize.value;\n\t\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.processor = userContext.createScriptProcessor(this.bufferSize, 1, 1);\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.processor);\n\t        this.processor.connect(this.output);\n\t\n\t        var phaser = 0,\n\t            last = 0,\n\t            input, output, step, i, length;\n\t        this.processor.onaudioprocess = function(e) {\n\t            input = e.inputBuffer.getChannelData(0),\n\t            output = e.outputBuffer.getChannelData(0),\n\t            step = Math.pow(1 / 2, this.bits);\n\t            length = input.length;\n\t            for (i = 0; i < length; i++) {\n\t                phaser += this.normfreq;\n\t                if (phaser >= 1.0) {\n\t                    phaser -= 1.0;\n\t                    last = step * Math.floor(input[i] / step + 0.5);\n\t                }\n\t                output[i] = last;\n\t            }\n\t        };\n\t\n\t        this.bits = properties.bits || this.defaults.bits.value;\n\t        this.normfreq = initValue(properties.normfreq, this.defaults.normfreq.value);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Bitcrusher.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Bitcrusher\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                bits: {\n\t                    value: 4,\n\t                    min: 1,\n\t                    max: 16,\n\t                    automatable: false,\n\t                    type: INT\n\t                },\n\t                bufferSize: {\n\t                    value: 4096,\n\t                    min: 256,\n\t                    max: 16384,\n\t                    automatable: false,\n\t                    type: INT\n\t                },\n\t                bypass: {\n\t                    value: true,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                },\n\t                normfreq: {\n\t                    value: 0.1,\n\t                    min: 0.0001,\n\t                    max: 1.0,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        bits: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.processor.bits;\n\t            },\n\t            set: function(value) {\n\t                this.processor.bits = value;\n\t            }\n\t        },\n\t        normfreq: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.processor.normfreq;\n\t            },\n\t            set: function(value) {\n\t                this.processor.normfreq = value;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Cabinet = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.convolver = this.newConvolver(properties.impulsePath ||\n\t            \"../impulses/impulse_guitar.wav\");\n\t        this.makeupNode = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.convolver.input);\n\t        this.convolver.output.connect(this.makeupNode);\n\t        this.makeupNode.connect(this.output);\n\t\n\t        this.makeupGain = initValue(properties.makeupGain, this.defaults\n\t            .makeupGain);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Cabinet.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Cabinet\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                makeupGain: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 20,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                bypass: {\n\t                    value: false,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                }\n\t            }\n\t        },\n\t        makeupGain: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.makeupNode.gain;\n\t            },\n\t            set: function(value) {\n\t                this.makeupNode.gain.value = value;\n\t            }\n\t        },\n\t        newConvolver: {\n\t            value: function(impulsePath) {\n\t                return new userInstance.Convolver({\n\t                    impulse: impulsePath,\n\t                    dryLevel: 0,\n\t                    wetLevel: 1\n\t                });\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Chorus = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.attenuator = this.activateNode = userContext.createGain();\n\t        this.splitter = userContext.createChannelSplitter(2);\n\t        this.delayL = userContext.createDelay();\n\t        this.delayR = userContext.createDelay();\n\t        this.feedbackGainNodeLR = userContext.createGain();\n\t        this.feedbackGainNodeRL = userContext.createGain();\n\t        this.merger = userContext.createChannelMerger(2);\n\t        this.output = userContext.createGain();\n\t\n\t        this.lfoL = new userInstance.LFO({\n\t            target: this.delayL.delayTime,\n\t            callback: pipe\n\t        });\n\t        this.lfoR = new userInstance.LFO({\n\t            target: this.delayR.delayTime,\n\t            callback: pipe\n\t        });\n\t\n\t        this.input.connect(this.attenuator);\n\t        this.attenuator.connect(this.output);\n\t        this.attenuator.connect(this.splitter);\n\t        this.splitter.connect(this.delayL, 0);\n\t        this.splitter.connect(this.delayR, 1);\n\t        this.delayL.connect(this.feedbackGainNodeLR);\n\t        this.delayR.connect(this.feedbackGainNodeRL);\n\t        this.feedbackGainNodeLR.connect(this.delayR);\n\t        this.feedbackGainNodeRL.connect(this.delayL);\n\t        this.delayL.connect(this.merger, 0, 0);\n\t        this.delayR.connect(this.merger, 0, 1);\n\t        this.merger.connect(this.output);\n\t\n\t        this.feedback = initValue(properties.feedback, this.defaults.feedback\n\t            .value);\n\t        this.rate = initValue(properties.rate, this.defaults.rate.value);\n\t        this.delay = initValue(properties.delay, this.defaults.delay.value);\n\t        this.depth = initValue(properties.depth, this.defaults.depth.value);\n\t        this.lfoR.phase = Math.PI / 2;\n\t        this.attenuator.gain.value = 0.6934; // 1 / (10 ^ (((20 * log10(3)) / 3) / 20))\n\t        this.lfoL.activate(true);\n\t        this.lfoR.activate(true);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Chorus.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Chorus\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                feedback: {\n\t                    value: 0.4,\n\t                    min: 0,\n\t                    max: 0.95,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                delay: {\n\t                    value: 0.0045,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                depth: {\n\t                    value: 0.7,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                rate: {\n\t                    value: 1.5,\n\t                    min: 0,\n\t                    max: 8,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                bypass: {\n\t                    value: true,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                }\n\t            }\n\t        },\n\t        delay: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._delay;\n\t            },\n\t            set: function(value) {\n\t                this._delay = 0.0002 * (Math.pow(10, value) * 2);\n\t                this.lfoL.offset = this._delay;\n\t                this.lfoR.offset = this._delay;\n\t                this._depth = this._depth;\n\t            }\n\t        },\n\t        depth: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._depth;\n\t            },\n\t            set: function(value) {\n\t                this._depth = value;\n\t                this.lfoL.oscillation = this._depth * this._delay;\n\t                this.lfoR.oscillation = this._depth * this._delay;\n\t            }\n\t        },\n\t        feedback: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._feedback;\n\t            },\n\t            set: function(value) {\n\t                this._feedback = value;\n\t                this.feedbackGainNodeLR.gain.value = this._feedback;\n\t                this.feedbackGainNodeRL.gain.value = this._feedback;\n\t            }\n\t        },\n\t        rate: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._rate;\n\t            },\n\t            set: function(value) {\n\t                this._rate = value;\n\t                this.lfoL.frequency = this._rate;\n\t                this.lfoR.frequency = this._rate;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Compressor = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.compNode = this.activateNode = userContext.createDynamicsCompressor();\n\t        this.makeupNode = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t\n\t        this.compNode.connect(this.makeupNode);\n\t        this.makeupNode.connect(this.output);\n\t\n\t        this.automakeup = initValue(properties.automakeup, this.defaults\n\t            .automakeup\n\t            .value);\n\t        this.makeupGain = properties.makeupGain || this.defaults.makeupGain\n\t            .value;\n\t        this.threshold = initValue(properties.threshold, this.defaults.threshold\n\t            .value);\n\t        this.release = properties.release || this.defaults.release.value;\n\t        this.attack = initValue(properties.attack, this.defaults.attack\n\t            .value);\n\t        this.ratio = properties.ratio || this.defaults.ratio.value;\n\t        this.knee = initValue(properties.knee, this.defaults.knee.value);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Compressor.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Compressor\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                threshold: {\n\t                    value: -20,\n\t                    min: -60,\n\t                    max: 0,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                release: {\n\t                    value: 250,\n\t                    min: 10,\n\t                    max: 2000,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                makeupGain: {\n\t                    value: 1,\n\t                    min: 1,\n\t                    max: 100,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                attack: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1000,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                ratio: {\n\t                    value: 4,\n\t                    min: 1,\n\t                    max: 50,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                knee: {\n\t                    value: 5,\n\t                    min: 0,\n\t                    max: 40,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                automakeup: {\n\t                    value: false,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                },\n\t                bypass: {\n\t                    value: true,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                }\n\t            }\n\t        },\n\t        computeMakeup: {\n\t            value: function() {\n\t                var magicCoefficient = 4,\n\t                    // raise me if the output is too hot\n\t                    c = this.compNode;\n\t                return -(c.threshold.value - c.threshold.value /\n\t                        c.ratio.value) /\n\t                    magicCoefficient;\n\t            }\n\t        },\n\t        automakeup: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._automakeup;\n\t            },\n\t            set: function(value) {\n\t                this._automakeup = value;\n\t                if (this._automakeup) this.makeupGain = this.computeMakeup();\n\t            }\n\t        },\n\t        threshold: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.compNode.threshold;\n\t            },\n\t            set: function(value) {\n\t                this.compNode.threshold.value = value;\n\t                if (this._automakeup) this.makeupGain = this.computeMakeup();\n\t            }\n\t        },\n\t        ratio: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.compNode.ratio;\n\t            },\n\t            set: function(value) {\n\t                this.compNode.ratio.value = value;\n\t                if (this._automakeup) this.makeupGain = this.computeMakeup();\n\t            }\n\t        },\n\t        knee: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.compNode.knee;\n\t            },\n\t            set: function(value) {\n\t                this.compNode.knee.value = value;\n\t                if (this._automakeup) this.makeupGain = this.computeMakeup();\n\t            }\n\t        },\n\t        attack: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.compNode.attack;\n\t            },\n\t            set: function(value) {\n\t                this.compNode.attack.value = value / 1000;\n\t            }\n\t        },\n\t        release: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.compNode.release;\n\t            },\n\t            set: function(value) {\n\t                this.compNode.release = value / 1000;\n\t            }\n\t        },\n\t        makeupGain: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.makeupNode.gain;\n\t            },\n\t            set: function(value) {\n\t                this.makeupNode.gain.value = dbToWAVolume(value);\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Convolver = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.convolver = userContext.createConvolver();\n\t        this.dry = userContext.createGain();\n\t        this.filterLow = userContext.createBiquadFilter();\n\t        this.filterHigh = userContext.createBiquadFilter();\n\t        this.wet = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.filterLow);\n\t        this.activateNode.connect(this.dry);\n\t        this.filterLow.connect(this.filterHigh);\n\t        this.filterHigh.connect(this.convolver);\n\t        this.convolver.connect(this.wet);\n\t        this.wet.connect(this.output);\n\t        this.dry.connect(this.output);\n\t\n\t        this.dryLevel = initValue(properties.dryLevel, this.defaults.dryLevel\n\t            .value);\n\t        this.wetLevel = initValue(properties.wetLevel, this.defaults.wetLevel\n\t            .value);\n\t        this.highCut = properties.highCut || this.defaults.highCut.value;\n\t        this.buffer = properties.impulse ||\n\t            \"../impulses/ir_rev_short.wav\";\n\t        this.lowCut = properties.lowCut || this.defaults.lowCut.value;\n\t        this.level = initValue(properties.level, this.defaults.level.value);\n\t        this.filterHigh.type = \"lowpass\";\n\t        this.filterLow.type = \"highpass\";\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Convolver.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Convolver\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                highCut: {\n\t                    value: 22050,\n\t                    min: 20,\n\t                    max: 22050,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                lowCut: {\n\t                    value: 20,\n\t                    min: 20,\n\t                    max: 22050,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                dryLevel: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                wetLevel: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                level: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        lowCut: {\n\t            get: function() {\n\t                return this.filterLow.frequency;\n\t            },\n\t            set: function(value) {\n\t                this.filterLow.frequency.value = value;\n\t            }\n\t        },\n\t        highCut: {\n\t            get: function() {\n\t                return this.filterHigh.frequency;\n\t            },\n\t            set: function(value) {\n\t                this.filterHigh.frequency.value = value;\n\t            }\n\t        },\n\t        level: {\n\t            get: function() {\n\t                return this.output.gain;\n\t            },\n\t            set: function(value) {\n\t                this.output.gain.value = value;\n\t            }\n\t        },\n\t        dryLevel: {\n\t            get: function() {\n\t                return this.dry.gain\n\t            },\n\t            set: function(value) {\n\t                this.dry.gain.value = value;\n\t            }\n\t        },\n\t        wetLevel: {\n\t            get: function() {\n\t                return this.wet.gain;\n\t            },\n\t            set: function(value) {\n\t                this.wet.gain.value = value;\n\t            }\n\t        },\n\t        buffer: {\n\t            enumerable: false,\n\t            get: function() {\n\t                return this.convolver.buffer;\n\t            },\n\t            set: function(impulse) {\n\t                var convolver = this.convolver,\n\t                    xhr = new XMLHttpRequest();\n\t                if (!impulse) {\n\t                    console.log(\"Tuna.Convolver.setBuffer: Missing impulse path!\");\n\t                    return;\n\t                }\n\t                xhr.open(\"GET\", impulse, true);\n\t                xhr.responseType = \"arraybuffer\";\n\t                xhr.onreadystatechange = function() {\n\t                    if (xhr.readyState === 4) {\n\t                        if (xhr.status < 300 && xhr.status > 199 || xhr.status === 302) {\n\t                            userContext.decodeAudioData(xhr.response, function(buffer) {\n\t                                convolver.buffer = buffer;\n\t                            }, function(e) {\n\t                                if (e) console.log(\"Tuna.Convolver.setBuffer: Error decoding data\" + e);\n\t                            });\n\t                        }\n\t                    }\n\t                };\n\t                xhr.send(null);\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Delay = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.dry = userContext.createGain();\n\t        this.wet = userContext.createGain();\n\t        this.filter = userContext.createBiquadFilter();\n\t        this.delay = userContext.createDelay();\n\t        this.feedbackNode = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.delay);\n\t        this.activateNode.connect(this.dry);\n\t        this.delay.connect(this.filter);\n\t        this.filter.connect(this.feedbackNode);\n\t        this.feedbackNode.connect(this.delay);\n\t        this.feedbackNode.connect(this.wet);\n\t        this.wet.connect(this.output);\n\t        this.dry.connect(this.output);\n\t\n\t        this.delayTime = properties.delayTime || this.defaults.delayTime.value;\n\t        this.feedback = initValue(properties.feedback, this.defaults.feedback.value);\n\t        this.wetLevel = initValue(properties.wetLevel, this.defaults.wetLevel.value);\n\t        this.dryLevel = initValue(properties.dryLevel, this.defaults.dryLevel.value);\n\t        this.cutoff = properties.cutoff || this.defaults.cutoff.value;\n\t        this.filter.type = \"lowpass\";\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Delay.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Delay\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                delayTime: {\n\t                    value: 100,\n\t                    min: 20,\n\t                    max: 1000,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                feedback: {\n\t                    value: 0.45,\n\t                    min: 0,\n\t                    max: 0.9,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                cutoff: {\n\t                    value: 20000,\n\t                    min: 20,\n\t                    max: 20000,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                wetLevel: {\n\t                    value: 0.5,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                dryLevel: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        delayTime: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.delay.delayTime;\n\t            },\n\t            set: function(value) {\n\t                this.delay.delayTime.value = value / 1000;\n\t            }\n\t        },\n\t        wetLevel: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.wet.gain;\n\t            },\n\t            set: function(value) {\n\t                this.wet.gain.value = value;\n\t            }\n\t        },\n\t        dryLevel: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.dry.gain;\n\t            },\n\t            set: function(value) {\n\t                this.dry.gain.value = value;\n\t            }\n\t        },\n\t        feedback: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.feedbackNode.gain;\n\t            },\n\t            set: function(value) {\n\t                this.feedbackNode.gain.value = value;\n\t            }\n\t        },\n\t        cutoff: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.filter.frequency;\n\t            },\n\t            set: function(value) {\n\t                this.filter.frequency.value = value;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Filter = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.filter = userContext.createBiquadFilter();\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.filter);\n\t        this.filter.connect(this.output);\n\t\n\t        this.frequency = properties.frequency || this.defaults.frequency\n\t            .value;\n\t        this.Q = properties.resonance || this.defaults.Q.value;\n\t        this.filterType = initValue(properties.filterType, this.defaults\n\t            .filterType\n\t            .value);\n\t        this.gain = initValue(properties.gain, this.defaults.gain.value);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Filter.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Filter\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                frequency: {\n\t                    value: 800,\n\t                    min: 20,\n\t                    max: 22050,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                Q: {\n\t                    value: 1,\n\t                    min: 0.001,\n\t                    max: 100,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                gain: {\n\t                    value: 0,\n\t                    min: -40,\n\t                    max: 40,\n\t                    automatable: true,\n\t                    type: FLOAT\n\t                },\n\t                bypass: {\n\t                    value: true,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                },\n\t                filterType: {\n\t                    value: \"lowpass\",\n\t                    automatable: false,\n\t                    type: STRING\n\t                }\n\t            }\n\t        },\n\t        filterType: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.filter.type;\n\t            },\n\t            set: function(value) {\n\t                this.filter.type = value;\n\t            }\n\t        },\n\t        Q: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.filter.Q;\n\t            },\n\t            set: function(value) {\n\t                this.filter.Q.value = value;\n\t            }\n\t        },\n\t        gain: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.filter.gain;\n\t            },\n\t            set: function(value) {\n\t                this.filter.gain.value = value;\n\t            }\n\t        },\n\t        frequency: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.filter.frequency;\n\t            },\n\t            set: function(value) {\n\t                this.filter.frequency.value = value;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.MoogFilter = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.bufferSize = properties.bufferSize || this.defaults.bufferSize\n\t            .value;\n\t\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.processor = userContext.createScriptProcessor(this.bufferSize,\n\t            1,\n\t            1);\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.processor);\n\t        this.processor.connect(this.output);\n\t\n\t        var in1, in2, in3, in4, out1, out2, out3, out4;\n\t        in1 = in2 = in3 = in4 = out1 = out2 = out3 = out4 = 0.0;\n\t        var input, output, f, fb, i, length;\n\t        this.processor.onaudioprocess = function(e) {\n\t            input = e.inputBuffer.getChannelData(0),\n\t                output = e.outputBuffer.getChannelData(0),\n\t                f = this.cutoff * 1.16,\n\t                inputFactor = 0.35013 * (f * f) * (f * f);\n\t            fb = this.resonance * (1.0 - 0.15 * f * f);\n\t            length = input.length;\n\t            for (i = 0; i < length; i++) {\n\t                input[i] -= out4 * fb;\n\t                input[i] *= inputFactor;\n\t                out1 = input[i] + 0.3 * in1 + (1 - f) * out1; // Pole 1\n\t                in1 = input[i];\n\t                out2 = out1 + 0.3 * in2 + (1 - f) * out2; // Pole 2\n\t                in2 = out1;\n\t                out3 = out2 + 0.3 * in3 + (1 - f) * out3; // Pole 3\n\t                in3 = out2;\n\t                out4 = out3 + 0.3 * in4 + (1 - f) * out4; // Pole 4\n\t                in4 = out3;\n\t                output[i] = out4;\n\t            }\n\t        };\n\t\n\t        this.cutoff = initValue(properties.cutoff, this.defaults.cutoff\n\t            .value);\n\t        this.resonance = initValue(properties.resonance, this.defaults.resonance\n\t            .value);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.MoogFilter.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"MoogFilter\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                bufferSize: {\n\t                    value: 4096,\n\t                    min: 256,\n\t                    max: 16384,\n\t                    automatable: false,\n\t                    type: INT\n\t                },\n\t                bypass: {\n\t                    value: false,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                },\n\t                cutoff: {\n\t                    value: 0.065,\n\t                    min: 0.0001,\n\t                    max: 1.0,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                resonance: {\n\t                    value: 3.5,\n\t                    min: 0.0,\n\t                    max: 4.0,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        cutoff: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.processor.cutoff;\n\t            },\n\t            set: function(value) {\n\t                this.processor.cutoff = value;\n\t            }\n\t        },\n\t        resonance: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this.processor.resonance;\n\t            },\n\t            set: function(value) {\n\t                this.processor.resonance = value;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Overdrive = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.inputDrive = userContext.createGain();\n\t        this.waveshaper = userContext.createWaveShaper();\n\t        this.outputDrive = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t\n\t        this.activateNode.connect(this.inputDrive);\n\t        this.inputDrive.connect(this.waveshaper);\n\t        this.waveshaper.connect(this.outputDrive);\n\t        this.outputDrive.connect(this.output);\n\t\n\t        this.ws_table = new Float32Array(this.k_nSamples);\n\t        this.drive = initValue(properties.drive, this.defaults.drive.value);\n\t        this.outputGain = initValue(properties.outputGain, this.defaults\n\t            .outputGain\n\t            .value);\n\t        this.curveAmount = initValue(properties.curveAmount, this.defaults\n\t            .curveAmount\n\t            .value);\n\t        this.algorithmIndex = initValue(properties.algorithmIndex, this\n\t            .defaults\n\t            .algorithmIndex.value);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Overdrive.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Overdrive\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                drive: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT,\n\t                    scaled: true\n\t                },\n\t                outputGain: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: true,\n\t                    type: FLOAT,\n\t                    scaled: true\n\t                },\n\t                curveAmount: {\n\t                    value: 0.725,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                algorithmIndex: {\n\t                    value: 0,\n\t                    min: 0,\n\t                    max: 5,\n\t                    automatable: false,\n\t                    type: INT\n\t                }\n\t            }\n\t        },\n\t        k_nSamples: {\n\t            value: 8192\n\t        },\n\t        drive: {\n\t            get: function() {\n\t                return this.inputDrive.gain;\n\t            },\n\t            set: function(value) {\n\t                this._drive = value;\n\t            }\n\t        },\n\t        curveAmount: {\n\t            get: function() {\n\t                return this._curveAmount;\n\t            },\n\t            set: function(value) {\n\t                this._curveAmount = value;\n\t                if (this._algorithmIndex === undefined) {\n\t                    this._algorithmIndex = 0;\n\t                }\n\t                this.waveshaperAlgorithms[this._algorithmIndex]\n\t                    (this._curveAmount,\n\t                        this.k_nSamples, this.ws_table);\n\t                this.waveshaper.curve = this.ws_table;\n\t            }\n\t        },\n\t        outputGain: {\n\t            get: function() {\n\t                return this.outputDrive.gain;\n\t            },\n\t            set: function(value) {\n\t                this._outputGain = dbToWAVolume(value);\n\t            }\n\t        },\n\t        algorithmIndex: {\n\t            get: function() {\n\t                return this._algorithmIndex;\n\t            },\n\t            set: function(value) {\n\t                this._algorithmIndex = value;\n\t                this.curveAmount = this._curveAmount;\n\t            }\n\t        },\n\t        waveshaperAlgorithms: {\n\t            value: [\n\t                function(amount, n_samples, ws_table) {\n\t                    amount = Math.min(amount, 0.9999);\n\t                    var k = 2 * amount / (1 - amount),\n\t                        i, x;\n\t                    for (i = 0; i < n_samples; i++) {\n\t                        x = i * 2 / n_samples - 1;\n\t                        ws_table[i] = (1 + k) * x / (1 + k * Math.abs(x));\n\t                    }\n\t                },\n\t                function(amount, n_samples, ws_table) {\n\t                    var i, x, y;\n\t                    for (i = 0; i < n_samples; i++) {\n\t                        x = i * 2 / n_samples - 1;\n\t                        y = ((0.5 * Math.pow((x + 1.4), 2)) - 1) * y >= 0 ? 5.8 : 1.2;\n\t                        ws_table[i] = tanh(y);\n\t                    }\n\t                },\n\t                function(amount, n_samples, ws_table) {\n\t                    var i, x, y, a = 1 - amount;\n\t                    for (i = 0; i < n_samples; i++) {\n\t                        x = i * 2 / n_samples - 1;\n\t                        y = x < 0 ? -Math.pow(Math.abs(x), a + 0.04) : Math.pow(x, a);\n\t                        ws_table[i] = tanh(y * 2);\n\t                    }\n\t                },\n\t                function(amount, n_samples, ws_table) {\n\t                    var i, x, y, abx, a = 1 - amount > 0.99 ? 0.99 : 1 - amount;\n\t                    for (i = 0; i < n_samples; i++) {\n\t                        x = i * 2 / n_samples - 1;\n\t                        abx = Math.abs(x);\n\t                        if (abx < a) y = abx;\n\t                        else if (abx > a) y = a + (abx - a) / (1 + Math.pow((abx - a) / (1 - a), 2));\n\t                        else if (abx > 1) y = abx;\n\t                        ws_table[i] = sign(x) * y * (1 / ((a + 1) / 2));\n\t                    }\n\t                },\n\t                function(amount, n_samples, ws_table) { // fixed curve, amount doesn't do anything, the distortion is just from the drive\n\t                    var i, x;\n\t                    for (i = 0; i < n_samples; i++) {\n\t                        x = i * 2 / n_samples - 1;\n\t                        if (x < -0.08905) {\n\t                            ws_table[i] = (-3 / 4) * (1 - (Math.pow((1 - (Math.abs(x) - 0.032857)), 12)) + (1 / 3) * (Math.abs(x) -\n\t                                0.032847)) + 0.01;\n\t                        } else if (x >= -0.08905 && x < 0.320018) {\n\t                            ws_table[i] = (-6.153 * (x * x)) + 3.9375 * x;\n\t                        } else {\n\t                            ws_table[i] = 0.630035;\n\t                        }\n\t                    }\n\t                },\n\t                function(amount, n_samples, ws_table) {\n\t                    var a = 2 + Math.round(amount * 14),\n\t                        // we go from 2 to 16 bits, keep in mind for the UI\n\t                        bits = Math.round(Math.pow(2, a - 1)),\n\t                        // real number of quantization steps divided by 2\n\t                        i, x;\n\t                    for (i = 0; i < n_samples; i++) {\n\t                        x = i * 2 / n_samples - 1;\n\t                        ws_table[i] = Math.round(x * bits) / bits;\n\t                    }\n\t                }\n\t            ]\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Phaser = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.splitter = this.activateNode = userContext.createChannelSplitter(2);\n\t        this.filtersL = [];\n\t        this.filtersR = [];\n\t        this.feedbackGainNodeL = userContext.createGain();\n\t        this.feedbackGainNodeR = userContext.createGain();\n\t        this.merger = userContext.createChannelMerger(2);\n\t        this.filteredSignal = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t        this.lfoL = new userInstance.LFO({\n\t            target: this.filtersL,\n\t            callback: this.callback\n\t        });\n\t        this.lfoR = new userInstance.LFO({\n\t            target: this.filtersR,\n\t            callback: this.callback\n\t        });\n\t\n\t        var i = this.stage;\n\t        while (i--) {\n\t            this.filtersL[i] = userContext.createBiquadFilter();\n\t            this.filtersR[i] = userContext.createBiquadFilter();\n\t            this.filtersL[i].type = \"allpass\";\n\t            this.filtersR[i].type = \"allpass\";\n\t        }\n\t        this.input.connect(this.splitter);\n\t        this.input.connect(this.output);\n\t        this.splitter.connect(this.filtersL[0], 0, 0);\n\t        this.splitter.connect(this.filtersR[0], 1, 0);\n\t        this.connectInOrder(this.filtersL);\n\t        this.connectInOrder(this.filtersR);\n\t        this.filtersL[this.stage - 1].connect(this.feedbackGainNodeL);\n\t        this.filtersL[this.stage - 1].connect(this.merger, 0, 0);\n\t        this.filtersR[this.stage - 1].connect(this.feedbackGainNodeR);\n\t        this.filtersR[this.stage - 1].connect(this.merger, 0, 1);\n\t        this.feedbackGainNodeL.connect(this.filtersL[0]);\n\t        this.feedbackGainNodeR.connect(this.filtersR[0]);\n\t        this.merger.connect(this.output);\n\t\n\t        this.rate = initValue(properties.rate, this.defaults.rate.value);\n\t        this.baseModulationFrequency = properties.baseModulationFrequency || this.defaults.baseModulationFrequency.value;\n\t        this.depth = initValue(properties.depth, this.defaults.depth.value);\n\t        this.feedback = initValue(properties.feedback, this.defaults.feedback.value);\n\t        this.stereoPhase = initValue(properties.stereoPhase, this.defaults.stereoPhase.value);\n\t\n\t        this.lfoL.activate(true);\n\t        this.lfoR.activate(true);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Phaser.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Phaser\"\n\t        },\n\t        stage: {\n\t            value: 4\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                rate: {\n\t                    value: 0.1,\n\t                    min: 0,\n\t                    max: 8,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                depth: {\n\t                    value: 0.6,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                feedback: {\n\t                    value: 0.7,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                stereoPhase: {\n\t                    value: 40,\n\t                    min: 0,\n\t                    max: 180,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                baseModulationFrequency: {\n\t                    value: 700,\n\t                    min: 500,\n\t                    max: 1500,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        callback: {\n\t            value: function(filters, value) {\n\t                for (var stage = 0; stage < 4; stage++) {\n\t                    filters[stage].frequency.value = value;\n\t                }\n\t            }\n\t        },\n\t        depth: {\n\t            get: function() {\n\t                return this._depth;\n\t            },\n\t            set: function(value) {\n\t                this._depth = value;\n\t                this.lfoL.oscillation = this._baseModulationFrequency * this._depth;\n\t                this.lfoR.oscillation = this._baseModulationFrequency * this._depth;\n\t            }\n\t        },\n\t        rate: {\n\t            get: function() {\n\t                return this._rate;\n\t            },\n\t            set: function(value) {\n\t                this._rate = value;\n\t                this.lfoL.frequency = this._rate;\n\t                this.lfoR.frequency = this._rate;\n\t            }\n\t        },\n\t        baseModulationFrequency: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._baseModulationFrequency;\n\t            },\n\t            set: function(value) {\n\t                this._baseModulationFrequency = value;\n\t                this.lfoL.offset = this._baseModulationFrequency;\n\t                this.lfoR.offset = this._baseModulationFrequency;\n\t                this._depth = this._depth;\n\t            }\n\t        },\n\t        feedback: {\n\t            get: function() {\n\t                return this._feedback;\n\t            },\n\t            set: function(value) {\n\t                this._feedback = value;\n\t                this.feedbackGainNodeL.gain.value = this._feedback;\n\t                this.feedbackGainNodeR.gain.value = this._feedback;\n\t            }\n\t        },\n\t        stereoPhase: {\n\t            get: function() {\n\t                return this._stereoPhase;\n\t            },\n\t            set: function(value) {\n\t                this._stereoPhase = value;\n\t                var newPhase = this.lfoL._phase + this._stereoPhase *\n\t                    Math.PI /\n\t                    180;\n\t                newPhase = fmod(newPhase, 2 * Math.PI);\n\t                this.lfoR._phase = newPhase;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.PingPongDelay = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.wetLevel = userContext.createGain();\n\t        this.stereoToMonoMix = userContext.createGain();\n\t        this.feedbackLevel = userContext.createGain();\n\t        this.output = userContext.createGain();\n\t        this.delayLeft = userContext.createDelay();\n\t        this.delayRight = userContext.createDelay();\n\t\n\t        this.activateNode = userContext.createGain();\n\t        this.splitter = userContext.createChannelSplitter(2);\n\t        this.merger = userContext.createChannelMerger(2);\n\t\n\t        this.activateNode.connect(this.splitter);\n\t        this.splitter.connect(this.stereoToMonoMix, 0, 0);\n\t        this.splitter.connect(this.stereoToMonoMix, 1, 0);\n\t        this.stereoToMonoMix.gain.value = .5;\n\t        this.stereoToMonoMix.connect(this.wetLevel);\n\t        this.wetLevel.connect(this.delayLeft);\n\t        this.feedbackLevel.connect(this.delayLeft);\n\t        this.delayLeft.connect(this.delayRight);\n\t        this.delayRight.connect(this.feedbackLevel);\n\t        this.delayLeft.connect(this.merger, 0, 0);\n\t        this.delayRight.connect(this.merger, 0, 1);\n\t        this.merger.connect(this.output);\n\t        this.activateNode.connect(this.output);\n\t\n\t        this.delayTimeLeft = properties.delayTimeLeft !== undefined ? properties.delayTimeLeft : this.defaults.delayTimeLeft.value;\n\t        this.delayTimeRight = properties.delayTimeRight !== undefined ? properties.delayTimeRight : this.defaults.delayTimeRight.value;\n\t        this.feedbackLevel.gain.value = properties.feedback !== undefined ? properties.feedback : this.defaults.feedback.value;\n\t        this.wetLevel.gain.value = properties.wetLevel !== undefined ? properties.wetLevel : this.defaults.wetLevel.value;\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.PingPongDelay.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"PingPongDelay\"\n\t        },\n\t        delayTimeLeft: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._delayTimeLeft;\n\t            },\n\t            set: function(value) {\n\t                this._delayTimeLeft = value;\n\t                this.delayLeft.delayTime.value = value / 1000;\n\t            }\n\t        },\n\t        delayTimeRight: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._delayTimeRight;\n\t            },\n\t            set: function(value) {\n\t                this._delayTimeRight = value;\n\t                this.delayRight.delayTime.value = value / 1000;\n\t            }\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                delayTimeLeft: {\n\t                    value: 200,\n\t                    min: 1,\n\t                    max: 10000,\n\t                    automatable: false,\n\t                    type: INT\n\t                },\n\t                delayTimeRight: {\n\t                    value: 400,\n\t                    min: 1,\n\t                    max: 10000,\n\t                    automatable: false,\n\t                    type: INT\n\t                },\n\t                feedback: {\n\t                    value: 0.3,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                wetLevel: {\n\t                    value: 0.5,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.Tremolo = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.splitter = this.activateNode = userContext.createChannelSplitter(\n\t                2),\n\t            this.amplitudeL = userContext.createGain(), this.amplitudeR =\n\t            userContext.createGain(), this.merger = userContext.createChannelMerger(\n\t                2), this.output = userContext.createGain();\n\t        this.lfoL = new userInstance.LFO({\n\t            target: this.amplitudeL.gain,\n\t            callback: pipe\n\t        });\n\t        this.lfoR = new userInstance.LFO({\n\t            target: this.amplitudeR.gain,\n\t            callback: pipe\n\t        });\n\t\n\t        this.input.connect(this.splitter);\n\t        this.splitter.connect(this.amplitudeL, 0);\n\t        this.splitter.connect(this.amplitudeR, 1);\n\t        this.amplitudeL.connect(this.merger, 0, 0);\n\t        this.amplitudeR.connect(this.merger, 0, 1);\n\t        this.merger.connect(this.output);\n\t\n\t        this.rate = properties.rate || this.defaults.rate.value;\n\t        this.intensity = initValue(properties.intensity, this.defaults.intensity\n\t            .value);\n\t        this.stereoPhase = initValue(properties.stereoPhase, this.defaults\n\t            .stereoPhase\n\t            .value);\n\t\n\t        this.lfoL.offset = 1 - (this.intensity / 2);\n\t        this.lfoR.offset = 1 - (this.intensity / 2);\n\t        this.lfoL.phase = this.stereoPhase * Math.PI / 180;\n\t\n\t        this.lfoL.activate(true);\n\t        this.lfoR.activate(true);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.Tremolo.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"Tremolo\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                intensity: {\n\t                    value: 0.3,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                stereoPhase: {\n\t                    value: 0,\n\t                    min: 0,\n\t                    max: 180,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                rate: {\n\t                    value: 5,\n\t                    min: 0.1,\n\t                    max: 11,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        intensity: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._intensity;\n\t            },\n\t            set: function(value) {\n\t                this._intensity = value;\n\t                this.lfoL.offset = 1 - this._intensity / 2;\n\t                this.lfoR.offset = 1 - this._intensity / 2;\n\t                this.lfoL.oscillation = this._intensity;\n\t                this.lfoR.oscillation = this._intensity;\n\t            }\n\t        },\n\t        rate: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._rate;\n\t            },\n\t            set: function(value) {\n\t                this._rate = value;\n\t                this.lfoL.frequency = this._rate;\n\t                this.lfoR.frequency = this._rate;\n\t            }\n\t        },\n\t        stereoPhase: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._rate;\n\t            },\n\t            set: function(value) {\n\t                this._stereoPhase = value;\n\t                var newPhase = this.lfoL._phase + this._stereoPhase *\n\t                    Math.PI /\n\t                    180;\n\t                newPhase = fmod(newPhase, 2 * Math.PI);\n\t                this.lfoR.phase = newPhase;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.WahWah = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.activateNode = userContext.createGain();\n\t        this.envelopeFollower = new userInstance.EnvelopeFollower({\n\t            target: this,\n\t            callback: function(context, value) {\n\t                context.sweep = value;\n\t            }\n\t        });\n\t        this.filterBp = userContext.createBiquadFilter();\n\t        this.filterPeaking = userContext.createBiquadFilter();\n\t        this.output = userContext.createGain();\n\t\n\t        //Connect AudioNodes\n\t        this.activateNode.connect(this.filterBp);\n\t        this.filterBp.connect(this.filterPeaking);\n\t        this.filterPeaking.connect(this.output);\n\t\n\t        //Set Properties\n\t        this.init();\n\t        this.automode = initValue(properties.enableAutoMode, this.defaults\n\t            .automode\n\t            .value);\n\t        this.resonance = properties.resonance || this.defaults.resonance\n\t            .value;\n\t        this.sensitivity = initValue(properties.sensitivity, this.defaults\n\t            .sensitivity\n\t            .value);\n\t        this.baseFrequency = initValue(properties.baseFrequency, this.defaults\n\t            .baseFrequency\n\t            .value);\n\t        this.excursionOctaves = properties.excursionOctaves || this.defaults\n\t            .excursionOctaves\n\t            .value;\n\t        this.sweep = initValue(properties.sweep, this.defaults.sweep.value);\n\t\n\t        this.activateNode.gain.value = 2;\n\t        this.envelopeFollower.activate(true);\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.WahWah.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"WahWah\"\n\t        },\n\t        defaults: {\n\t            writable: true,\n\t            value: {\n\t                automode: {\n\t                    value: true,\n\t                    automatable: false,\n\t                    type: BOOLEAN\n\t                },\n\t                baseFrequency: {\n\t                    value: 0.5,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                excursionOctaves: {\n\t                    value: 2,\n\t                    min: 1,\n\t                    max: 6,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                sweep: {\n\t                    value: 0.2,\n\t                    min: 0,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                resonance: {\n\t                    value: 10,\n\t                    min: 1,\n\t                    max: 100,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                sensitivity: {\n\t                    value: 0.5,\n\t                    min: -1,\n\t                    max: 1,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        activateCallback: {\n\t            value: function(value) {\n\t                this.automode = value;\n\t            }\n\t        },\n\t        automode: {\n\t            get: function() {\n\t                return this._automode;\n\t            },\n\t            set: function(value) {\n\t                this._automode = value;\n\t                if (value) {\n\t                    this.activateNode.connect(this.envelopeFollower.input);\n\t                    this.envelopeFollower.activate(true);\n\t                } else {\n\t                    this.envelopeFollower.activate(false);\n\t                    this.activateNode.disconnect();\n\t                    this.activateNode.connect(this.filterBp);\n\t                }\n\t            }\n\t        },\n\t        filterFreqTimeout: {\n\t            value: 0\n\t        },\n\t        setFilterFreq: {\n\t            value: function() {\n\t                try {\n\t                    this.filterBp.frequency.value = this._baseFrequency + this._excursionFrequency * this._sweep;\n\t                    this.filterPeaking.frequency.value = this._baseFrequency + this._excursionFrequency * this._sweep;\n\t                } catch (e) {\n\t                    clearTimeout(this.filterFreqTimeout);\n\t                    //put on the next cycle to let all init properties be set\n\t                    this.filterFreqTimeout = setTimeout(function() {\n\t                        this.setFilterFreq();\n\t                    }.bind(this), 0);\n\t                }\n\t            }\n\t        },\n\t        sweep: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._sweep.value;\n\t            },\n\t            set: function(value) {\n\t                this._sweep = Math.pow(value > 1 ? 1 : value <\n\t                    0 ? 0 :\n\t                    value,\n\t                    this._sensitivity);\n\t                this.setFilterFreq();\n\t            }\n\t        },\n\t        baseFrequency: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._baseFrequency;\n\t            },\n\t            set: function(value) {\n\t                this._baseFrequency = 50 * Math.pow(10, value *\n\t                    2);\n\t                this._excursionFrequency = Math.min(userContext\n\t                    .sampleRate /\n\t                    2,\n\t                    this.baseFrequency * Math.pow(2, this._excursionOctaves)\n\t                );\n\t                this.setFilterFreq();\n\t            }\n\t        },\n\t        excursionOctaves: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._excursionOctaves;\n\t            },\n\t            set: function(value) {\n\t                this._excursionOctaves = value;\n\t                this._excursionFrequency = Math.min(userContext\n\t                    .sampleRate /\n\t                    2,\n\t                    this.baseFrequency * Math.pow(2, this._excursionOctaves)\n\t                );\n\t                this.setFilterFreq();\n\t            }\n\t        },\n\t        sensitivity: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._sensitivity;\n\t            },\n\t            set: function(value) {\n\t                this._sensitivity = Math.pow(10, value);\n\t            }\n\t        },\n\t        resonance: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._resonance;\n\t            },\n\t            set: function(value) {\n\t                this._resonance = value;\n\t                this.filterPeaking.Q = this._resonance;\n\t            }\n\t        },\n\t        init: {\n\t            value: function() {\n\t                this.output.gain.value = 1;\n\t                this.filterPeaking.type = \"peaking\";\n\t                this.filterBp.type = \"bandpass\";\n\t                this.filterPeaking.frequency.value = 100;\n\t                this.filterPeaking.gain.value = 20;\n\t                this.filterPeaking.Q.value = 5;\n\t                this.filterBp.frequency.value = 100;\n\t                this.filterBp.Q.value = 1;\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.EnvelopeFollower = function(properties) {\n\t        if (!properties) {\n\t            properties = this.getDefaults();\n\t        }\n\t        this.input = userContext.createGain();\n\t        this.jsNode = this.output = userContext.createScriptProcessor(\n\t            this.buffersize,\n\t            1, 1);\n\t\n\t        this.input.connect(this.output);\n\t\n\t        this.attackTime = initValue(properties.attackTime, this.defaults\n\t            .attackTime\n\t            .value);\n\t        this.releaseTime = initValue(properties.releaseTime, this.defaults\n\t            .releaseTime\n\t            .value);\n\t        this._envelope = 0;\n\t        this.target = properties.target || {};\n\t        this.callback = properties.callback || function() {};\n\t    };\n\t    Tuna.prototype.EnvelopeFollower.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"EnvelopeFollower\"\n\t        },\n\t        defaults: {\n\t            value: {\n\t                attackTime: {\n\t                    value: 0.003,\n\t                    min: 0,\n\t                    max: 0.5,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                releaseTime: {\n\t                    value: 0.5,\n\t                    min: 0,\n\t                    max: 0.5,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        buffersize: {\n\t            value: 256\n\t        },\n\t        envelope: {\n\t            value: 0\n\t        },\n\t        sampleRate: {\n\t            value: 44100\n\t        },\n\t        attackTime: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._attackTime;\n\t            },\n\t            set: function(value) {\n\t                this._attackTime = value;\n\t                this._attackC = Math.exp(-1 / this._attackTime *\n\t                    this.sampleRate /\n\t                    this.buffersize);\n\t            }\n\t        },\n\t        releaseTime: {\n\t            enumerable: true,\n\t            get: function() {\n\t                return this._releaseTime;\n\t            },\n\t            set: function(value) {\n\t                this._releaseTime = value;\n\t                this._releaseC = Math.exp(-1 / this._releaseTime *\n\t                    this.sampleRate /\n\t                    this.buffersize);\n\t            }\n\t        },\n\t        callback: {\n\t            get: function() {\n\t                return this._callback;\n\t            },\n\t            set: function(value) {\n\t                if (typeof value === \"function\") {\n\t                    this._callback = value;\n\t                } else {\n\t                    console.error(\"tuna.js: \" + this.name +\n\t                        \": Callback must be a function!\");\n\t                }\n\t            }\n\t        },\n\t        target: {\n\t            get: function() {\n\t                return this._target;\n\t            },\n\t            set: function(value) {\n\t                this._target = value;\n\t            }\n\t        },\n\t        activate: {\n\t            value: function(doActivate) {\n\t                this.activated = doActivate;\n\t                if (doActivate) {\n\t                    this.jsNode.connect(userContext.destination);\n\t                    this.jsNode.onaudioprocess = this.returnCompute(\n\t                        this);\n\t                } else {\n\t                    this.jsNode.disconnect();\n\t                    this.jsNode.onaudioprocess = null;\n\t                }\n\t            }\n\t        },\n\t        returnCompute: {\n\t            value: function(instance) {\n\t                return function(event) {\n\t                    instance.compute(event);\n\t                };\n\t            }\n\t        },\n\t        compute: {\n\t            value: function(event) {\n\t                var count = event.inputBuffer.getChannelData(0)\n\t                    .length,\n\t                    channels = event.inputBuffer.numberOfChannels,\n\t                    current, chan, rms, i;\n\t                chan = rms = i = 0;\n\t                if (channels > 1) { //need to mixdown\n\t                    for (i = 0; i < count; ++i) {\n\t                        for (; chan < channels; ++chan) {\n\t                            current = event.inputBuffer.getChannelData(chan)[i];\n\t                            rms += (current * current) / channels;\n\t                        }\n\t                    }\n\t                } else {\n\t                    for (i = 0; i < count; ++i) {\n\t                        current = event.inputBuffer.getChannelData(0)[i];\n\t                        rms += (current * current);\n\t                    }\n\t                }\n\t                rms = Math.sqrt(rms);\n\t\n\t                if (this._envelope < rms) {\n\t                    this._envelope *= this._attackC;\n\t                    this._envelope += (1 - this._attackC) * rms;\n\t                } else {\n\t                    this._envelope *= this._releaseC;\n\t                    this._envelope += (1 - this._releaseC) *\n\t                        rms;\n\t                }\n\t                this._callback(this._target, this._envelope);\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.prototype.LFO = function(properties) {\n\t        //Instantiate AudioNode\n\t        this.output = userContext.createScriptProcessor(256, 1, 1);\n\t        this.activateNode = userContext.destination;\n\t\n\t        //Set Properties\n\t        this.frequency = initValue(properties.frequency, this.defaults.frequency\n\t            .value);\n\t        this.offset = initValue(properties.offset, this.defaults.offset.value);\n\t        this.oscillation = initValue(properties.oscillation, this.defaults\n\t            .oscillation\n\t            .value);\n\t        this.phase = initValue(properties.phase, this.defaults.phase.value);\n\t        this.target = properties.target || {};\n\t        this.output.onaudioprocess = this.callback(properties.callback ||\n\t            function() {});\n\t        this.bypass = properties.bypass || false;\n\t    };\n\t    Tuna.prototype.LFO.prototype = Object.create(Super, {\n\t        name: {\n\t            value: \"LFO\"\n\t        },\n\t        bufferSize: {\n\t            value: 256\n\t        },\n\t        sampleRate: {\n\t            value: 44100\n\t        },\n\t        defaults: {\n\t            value: {\n\t                frequency: {\n\t                    value: 1,\n\t                    min: 0,\n\t                    max: 20,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                offset: {\n\t                    value: 0.85,\n\t                    min: 0,\n\t                    max: 22049,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                oscillation: {\n\t                    value: 0.3,\n\t                    min: -22050,\n\t                    max: 22050,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                },\n\t                phase: {\n\t                    value: 0,\n\t                    min: 0,\n\t                    max: 2 * Math.PI,\n\t                    automatable: false,\n\t                    type: FLOAT\n\t                }\n\t            }\n\t        },\n\t        frequency: {\n\t            get: function() {\n\t                return this._frequency;\n\t            },\n\t            set: function(value) {\n\t                this._frequency = value;\n\t                this._phaseInc = 2 * Math.PI * this._frequency *\n\t                    this.bufferSize /\n\t                    this.sampleRate;\n\t            }\n\t        },\n\t        offset: {\n\t            get: function() {\n\t                return this._offset;\n\t            },\n\t            set: function(value) {\n\t                this._offset = value;\n\t            }\n\t        },\n\t        oscillation: {\n\t            get: function() {\n\t                return this._oscillation;\n\t            },\n\t            set: function(value) {\n\t                this._oscillation = value;\n\t            }\n\t        },\n\t        phase: {\n\t            get: function() {\n\t                return this._phase;\n\t            },\n\t            set: function(value) {\n\t                this._phase = value;\n\t            }\n\t        },\n\t        target: {\n\t            get: function() {\n\t                return this._target;\n\t            },\n\t            set: function(value) {\n\t                this._target = value;\n\t            }\n\t        },\n\t        activate: {\n\t            value: function(doActivate) {\n\t                if (!doActivate) {\n\t                    this.output.disconnect(userContext.destination);\n\t                } else {\n\t                    this.output.connect(userContext.destination);\n\t                }\n\t            }\n\t        },\n\t        callback: {\n\t            value: function(callback) {\n\t                var that = this;\n\t                return function() {\n\t                    that._phase += that._phaseInc;\n\t                    if (that._phase > 2 * Math.PI) {\n\t                        that._phase = 0;\n\t                    }\n\t                    callback(that._target, that._offset +\n\t                        that._oscillation *\n\t                        Math.sin(that._phase));\n\t                };\n\t            }\n\t        }\n\t    });\n\t\n\t    Tuna.toString = Tuna.prototype.toString = function() {\n\t        return \"Please visit https://github.com/Theodeus/tuna/wiki for instructions on how to use Tuna.js\";\n\t    };\n\t})(this);\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** web-synth.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3da8e4716c1d652df632\n **/","import Synth from './WebSynth'\n\nconst win = window || {};\n\nwin.WebSynth = Synth;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","let AudioCtx = window.AudioContext || window.webkitAudioContext,\n    ctx = new AudioCtx(),\n    deprecatedFn = {\n        createGainNode: 'createGain',\n        createDelayNode: 'createDelay'\n    };\n\nfor (let f in deprecatedFn) {\n    if (typeof ctx[f] === 'function') {\n        ctx[deprecatedFn[f]] = ctx[f];\n    }\n}\n\nexport default ctx;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/AudioContext.js\n **/","export const TYPES = {\n    MASTER: 'Master',\n    OSCILLATOR: 'Oscillator',\n    MODULATOR: 'Modulator',\n    FILTER: 'Filter',\n    NOISE: 'Noise',\n    REVERB: 'Reverb',\n    CHORUS: 'Chorus',\n    DELAY: 'Delay',\n    ENVELOPE: 'Envelope'\n};\n\nexport const CONST = {\n    MASTER: 'master',\n    ADSR: 'adsr',\n\n    NOISE_WHITE: 'white',\n    NOISE_PINK:  'pink',\n    NOISE_BROWN: 'brown',\n\n    WAVE_SINE:   'sine',\n    WAVE_SQUARE: 'square',\n    WAVE_SAWTOOTH: 'sawtooth',\n    WAVE_TRIANLGE: 'triangle',\n    WAVE_CUSTOM: 'custom',\n\n    FILTER_LOWPASS: 'lowpass',\n    FILTER_HIGHPASS: 'highpass',\n    FILTER_BANDPASS: 'bandpass',\n    FILTER_LOWSHELF: 'lowshelf',\n    FILTER_HIGHSHELF: 'highshelf',\n    FILTER_PEAKING: 'peaking',\n    FILTER_NOTCH: 'notch',\n    FILTER_ALLPASS: 'allpass'\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/core/Constants.js\n **/","import AudioContext from '../AudioContext'\n\nclass Module {\n\n    constructor (props) {\n        this.gain = null;\n        this.main = null;\n        this.link = props.link || null;\n        this.level = +props.level;\n\n        this.createGain(this.level);\n    }\n\n    createGain (level) {\n        let l = (level >= 0) ?  level % 101 : 100;\n        this.gain = AudioContext.createGain();\n        this.gain.gain.value = l / 100;\n    }\n\n    disconnect () {\n        this.gain.disconnect();\n    }\n\n    getLineIn () {\n        return this.main;\n    }\n\n    getLineOut () {\n        return this.gain;\n    }\n\n    getEnvelopeTarget (target) {\n        let ret = null;\n\n        if (this.main && this.main[target]) {\n            ret = this.main[target];\n        } else if (target === 'gain' && this.gain) {\n            ret = this.gain.gain;\n        }\n\n        return ret;\n    }\n}\n\nexport default Module;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/core/Module.js\n **/","import AudioContext from '../AudioContext'\nimport Module from '../core/Module'\n\nclass SoundSource extends Module {\n\n    constructor (props) {\n        super(props);\n    }\n\n    noteOn () {\n        this.main.start(0);\n    }\n\n    noteOff (release) {\n        this.main.stop(release);\n    }\n}\n\nexport default SoundSource;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/core/SoundSource.js\n **/","export {default as Oscillator} from './Oscillator'\nexport {default as Modulator} from './Modulator'\nexport {default as Noise} from './Noise'\nexport {default as Filter} from './Filter'\nexport {default as Envelope} from './Envelope'\nexport {default as Master} from './Master'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/index.js\n **/","import * as Modules from './lib/modules'\nimport { CONST } from './lib/core/Constants'\nimport Synth from './lib/Synth'\n\nclass WebSynth {\n    constructor () {\n        let synth = new Synth(),\n            methods = Object.keys(Modules),\n            fx;\n\n        this.VARS = CONST;\n\n        //Synth Module Creators\n        for (let type of methods) {\n            fx = type.toLowerCase();\n            this[fx] = (label, props) => {\n                synth.module(type, label, props);\n                return this;\n            }\n        }\n\n        this.play = (note) => synth.play(note);\n        this.stop = (note) => synth.stop(note);\n    }\n}\n\nexport default WebSynth;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/WebSynth.js\n **/","import AudioContext from './AudioContext'\nimport { CONST } from './core/Constants'\nimport Voice from './core/Voice'\n\nclass Synth {\n\n    constructor () {\n        this.modulesConfig = {};\n        this.voices = {};\n\n        this.module('Master', CONST.MASTER, {\n            level: 100\n        });\n\n        this.module('Envelope', CONST.ADSR, {\n            link:    CONST.MASTER,\n            target:  'gain',\n            level:   100,\n            attack:  null,\n            decay:   0.1,\n            sustain: 100,\n            release: 5\n        });\n\n    }\n\n    module (type, label, props) {\n        if (!type || type.constructor !== String) {\n            throw new Error('Synth Module :: missing type');\n        }\n\n        if (!label || label.constructor !== String) {\n            throw new Error('Synth Module :: missing label');\n        }\n\n        if (!props || props.constructor !== Object) {\n            throw new Error('Synth Module :: missing properties');\n        }\n\n        if (!this.modulesConfig[label]) {\n            this.addModule(type, label, props);\n        }\n    }\n\n    addModule (type, label, props) {\n        this.modulesConfig[label] = {\n            type,\n            props\n        };\n    }\n\n    play (note) {\n        if (!this.voices[note]) {\n            this.voices[note] = new Voice(note, this.modulesConfig);\n            this.voices[note].noteOn();\n        }\n    }\n\n    stop (note) {\n        if (this.voices[note]) {\n            this.voices[note].noteOff();\n            this.voices[note] = undefined;\n        }\n    }\n}\n\nexport default Synth;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Synth.js\n **/","import { CONST, TYPES } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport Module from '../core/Module'\nimport EffectManager from './EffectManager'\n\nclass Effect extends Module {\n\n    constructor (props) {\n        super(props);\n        this.main = null;\n        this.mainEffect = null;\n    }\n\n    setMainEffect (type, mainEffect, props) {\n        this.main = new EffectManager[type](props);\n        this.mainEffect = this.main[mainEffect];\n    }\n\n    createGain () {\n        return false;\n    }\n\n    getLineIn (sourceType, source) {\n        if (sourceType === TYPES.MODULATOR) {\n            return this.mainEffect[source.target];\n        } else {\n            return this.main.input;\n        }\n    }\n\n    getLineOut () {\n        return this.main.output;\n    }\n\n    getEnvelopeTarget (target) {\n        let ret = null;\n\n        if (target === 'gain') {\n            ret = this.main.output.gain;\n        } else if (this.main && this.mainEffect && this.mainEffect[target]) {\n            ret = this.main.filter[target]\n        }\n\n        return ret;\n    }\n\n}\n\nexport default Effect;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/core/Effect.js\n **/","import AudioContext from '../AudioContext'\nimport Tuna from 'tunajs'\n\nlet manager = new Tuna(AudioContext);\n\nexport default manager;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/core/EffectManager.js\n **/","import AudioContext from '../AudioContext'\nimport * as Modules from '../modules'\nimport SoundSource from './SoundSource'\nimport { CONST, TYPES } from './Constants'\n\nclass Voice {\n\n    constructor (note, modulesConfig) {\n        this.note = note;\n        this.modulesConfig = modulesConfig;\n        this.modules = {};\n        this.soundSources = [];\n        this.master = null;\n\n        this.setupModules();\n        this.linkModules();\n    }\n\n    setupModules () {\n        let modConf,\n            m;\n\n        Object.keys(this.modulesConfig).forEach((mod) => {\n            modConf = this.modulesConfig[mod];\n            if (modConf.type && modConf.props) {\n                m = new Modules[modConf.type](modConf.props);\n                this.modules[mod] = {\n                    type: modConf.type,\n                    instance: m\n                };\n\n                if (m.instance instanceof SoundSource) {\n                    this.soundSources.push(m);\n                } else if (modConf.type === TYPES.MASTER) {\n                    this.master = m;\n                }\n            }\n        });\n    }\n\n    linkModules () {\n        Object.keys(this.modules).forEach((mod) => {\n            let currentModule = this.modules[mod].instance,\n                currentModuleType = this.modules[mod].type,\n                destinationModule,\n                source,\n                dest;\n\n            if (currentModule.link) {\n                destinationModule = this.modules[currentModule.link];\n                if (destinationModule && destinationModule.instance) {\n                    source = currentModule.getLineOut();\n                    dest = destinationModule.instance.getLineIn(currentModuleType, currentModule);\n                    //console.log(mod, source, currentModule.link, dest);\n                    if (source && dest) {\n                        source.connect(dest);\n                    }\n                }\n            }\n        });\n\n        this.master.lineOut();\n    }\n\n    noteOn () {\n        let m,\n            dest;\n\n        Object.keys(this.modules).forEach((e) => {\n            m = this.modules[e].instance;\n\n            if (typeof m.setEnvelope === 'function') {\n                dest = (this.modules[m.link]) ? this.modules[m.link].instance : null;\n                m.setEnvelope(dest);\n            }\n            if (typeof m.setNote === 'function') {\n                m.setNote(+this.note);\n            }\n        });\n        Object.keys(this.modules).forEach((e) => {\n            m = this.modules[e].instance;\n            if (typeof m.noteOn === 'function') {\n                m.noteOn();\n            }\n        });\n    }\n\n    noteOff () {\n        let release = 0,\n            adsr = this.modules.adsr.instance,\n            m,\n            dest;\n\n        release = adsr.getReleaseTime();\n\n        Object.keys(this.modules).forEach((e) => {\n            m = this.modules[e].instance;\n            if (typeof m.resetEnvelope === 'function') {\n                dest = (this.modules[m.link]) ? this.modules[m.link].instance : null;\n                m.resetEnvelope(dest);\n            }\n        });\n        Object.keys(this.modules).forEach((e) => {\n            m = this.modules[e].instance;\n            if (typeof m.noteOff === 'function') {\n                m.noteOff(release);\n            }\n        });\n    }\n\n}\n\nexport default Voice;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/core/Voice.js\n **/","import { CONST, TYPES } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport Module from '../core/Module'\n\nclass Envelope extends Module {\n\n    constructor (props) {\n        super(props);\n\n        this.target = props.target || null;\n\n        this.attack = props.attack;\n        this.decay = props.decay;\n        this.sustain = props.sustain;\n        this.release = props.release;\n    }\n\n    createGain () {\n        return false;\n    }\n\n    getReleaseTime () {\n        let now = AudioContext.currentTime,\n            release;\n\n        if (this.release) {\n            release = now + (this.release / 10.0);\n        } else {\n            release = now + 0.2;\n        }\n\n        return release;\n    }\n\n    setEnvelope (dest) {\n        let now = AudioContext.currentTime,\n            envelope = this.level % 101,\n            attackLevel,\n            sustainLevel,\n            attackEnd = (this.attack / 20.0),\n            t;\n\n        if (this.target === 'gain') {\n            attackLevel = envelope / 100;\n            sustainLevel = this.sustain / 100.0;\n        } else {\n            attackLevel = envelope * 72;  // Range: 0-7200: 6-octave range\n            sustainLevel = attackLevel * this.sustain / 100.0; // range: 0-7200\n        }\n\n        if (!attackEnd) {\n            attackEnd = 0.05; // tweak to get target decay to work properly\n        }\n\n        if (dest && typeof dest.getEnvelopeTarget === 'function') {\n            t = dest.getEnvelopeTarget(this.target);\n\n            if (t) {\n                t.setValueAtTime(0, now);\n                t.linearRampToValueAtTime(attackLevel, now + attackEnd);\n                t.setTargetAtTime(sustainLevel, now + attackEnd, (this.decay / 100.0));\n            }\n        }\n\n    }\n\n    resetEnvelope (dest) {\n        let now = AudioContext.currentTime,\n            t;\n\n        if (dest && typeof dest.getEnvelopeTarget === 'function') {\n            t = dest.getEnvelopeTarget(this.target);\n\n            if (t) {\n                t.cancelScheduledValues(now);\n                if (this.target === 'gain') {\n                    t.setValueAtTime(t.value, now);\n                }\n                t.setTargetAtTime(0, now, (this.release / 100.0));\n            }\n        }\n    }\n\n    getLineOut () {\n        return false;\n    }\n}\n\nexport default Envelope;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/Envelope.js\n **/","import { CONST, TYPES } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport Module from '../core/Module'\nimport Effect from '../core/Effect'\n\nclass Filter extends Effect {\n\n    constructor (props) {\n        super(props);\n\n        this.freq = +props.freq || 11000;\n        this.q = +props.q || 10;\n        this.bypass = +props.bypass || 0;\n        this.filterGain = this.level || 0;\n\n        this.setMainEffect('Filter', 'filter', {\n            frequency: this.freq, //20 to 22050\n            Q: this.q, //0.001 to 100\n            gain: this.filterGain, //-40 to 40\n            filterType: props.type || CONST.FILTER_LOWPASS,\n            bypass: this.bypass\n        });\n    }\n}\n\nexport default Filter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/Filter.js\n **/","import { CONST } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport Module from '../core/Module'\n\nclass Master extends Module {\n\n    constructor (props) {\n        super(props);\n\n        this.main = AudioContext.createGain();\n        this.env = props.envelope || null;\n        this.link = null;\n    }\n\n    //setEnvelope () {\n    //    let now = AudioContext.currentTime,\n    //        envAttackEnd;\n    //\n    //    this.envelope.gain.value = 0.0;\n    //\n    //    if (this.env) {\n    //        envAttackEnd = now + (this.env.attack / 20.0);\n    //        this.envelope.gain.setValueAtTime(0.0, now);\n    //        this.envelope.gain.linearRampToValueAtTime(1.0, envAttackEnd);\n    //        this.envelope.gain.setTargetAtTime(\n    //            (this.env.sustain / 100.0),\n    //            envAttackEnd,\n    //            (this.env.decay / 100.0) + 0.001\n    //        );\n    //    } else {\n    //        this.envelope.gain.setValueAtTime(0.0, now);\n    //        this.envelope.gain.linearRampToValueAtTime(1.0, now + 0.02);\n    //        this.envelope.gain.setTargetAtTime(1, now + 0.02, 0 + 0.001);\n    //        this.envelope.gain.value = 1;\n    //    }\n    //}\n    //\n    //resetEnvelope () {\n    //    let now = AudioContext.currentTime;\n    //\n    //    if (this.env) {\n    //        this.envelope.gain.cancelScheduledValues(now);\n    //        this.envelope.gain.setValueAtTime(this.envelope.gain.value, now);\n    //        this.envelope.gain.setTargetAtTime(0.0, now, (this.env.release / 100));\n    //    } else {\n    //        this.envelope.gain.cancelScheduledValues(now);\n    //        this.envelope.gain.setValueAtTime(this.envelope.gain.value, now);\n    //        this.envelope.gain.setTargetAtTime(0.0, now, 0.05);\n    //    }\n    //}\n\n    getLineIn () {\n        return this.main;\n    }\n\n    lineOut () {\n        this.main.connect(this.gain);\n        this.gain.connect(AudioContext.destination);\n    }\n}\n\nexport default Master;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/Master.js\n **/","import { CONST } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport SoundSource from '../core/SoundSource'\n\nclass Modulator extends SoundSource {\n\n    constructor (props) {\n        super(props);\n\n        this.freq = +props.freq || 440;\n        this.target = props.target || 'frequency';\n\n        this.main = AudioContext.createOscillator();\n        this.main.type = props.type || CONST.WAVE_SINE;\n        this.main.connect(this.gain);\n    }\n\n    setNote () {\n        let f =  this.freq % 11;\n        this.main.frequency.value = f;\n    }\n\n    getLineIn () {\n        return this.main.frequency;\n    }\n}\n\nexport default Modulator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/Modulator.js\n **/","import { CONST } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport SoundSource from '../core/SoundSource'\n\nclass Noise extends SoundSource {\n\n    constructor (props) {\n        super(props);\n\n        this.main = AudioContext.createBufferSource();\n        this.main.connect(this.gain);\n\n        this.color = props.color || 'white';\n        this.setColor();\n    }\n\n    setColor () {\n        switch (this.color) {\n            case 'white' :\n                this.main.buffer = this.white();\n                break;\n            case 'pink' :\n                this.main.buffer = this.pink();\n                break;\n            case 'brown' :\n                this.main.buffer = this.brown();\n                break;\n            default :\n                throw new Error('Invalid Noise color: ' + this.color);\n        }\n    }\n\n    white () {\n        let noiseBuffer = this.getNoiseBuffer(),\n            bufferSize = this.getBufferSize(),\n            output = noiseBuffer.getChannelData(0);\n\n        for (let i = 0; i < bufferSize; i++) {\n            output[i] = Math.random() * 2 - 1;\n        }\n\n        return noiseBuffer;\n    }\n\n    pink () {\n        let b0, b1, b2, b3, b4, b5, b6,\n            noiseBuffer = this.getNoiseBuffer(),\n            bufferSize = this.getBufferSize(),\n            output = noiseBuffer.getChannelData(0),\n            white;\n\n        b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n\n        for (let i = 0; i < bufferSize; i++) {\n            white = Math.random() * 2 - 1;\n\n            b0 = 0.99886 * b0 + white * 0.0555179;\n            b1 = 0.99332 * b1 + white * 0.0750759;\n            b2 = 0.96900 * b2 + white * 0.1538520;\n            b3 = 0.86650 * b3 + white * 0.3104856;\n            b4 = 0.55000 * b4 + white * 0.5329522;\n            b5 = -0.7616 * b5 - white * 0.0168980;\n\n            output[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n            output[i] *= 0.11;\n            b6 = white * 0.115926;\n        }\n\n        return noiseBuffer;\n    }\n\n    brown () {\n        let noiseBuffer = this.getNoiseBuffer(),\n            bufferSize = this.getBufferSize(),\n            output = noiseBuffer.getChannelData(0),\n            lastOut = 0.0,\n            white;\n\n        for (let i = 0; i < bufferSize; i++) {\n            white = white = Math.random() * 2 - 1;\n\n            output[i] = (lastOut + (0.02 * white)) / 1.02;\n            lastOut = output[i];\n            output[i] *= 3.5;\n        }\n\n        return noiseBuffer;\n    }\n\n    getBufferSize () {\n        return 2 * AudioContext.sampleRate;\n    }\n\n    getNoiseBuffer () {\n        let bufferSize = this.getBufferSize(),\n            noiseBuffer = AudioContext.createBuffer(1, bufferSize, AudioContext.sampleRate);\n        return noiseBuffer;\n    }\n\n    setNote () {\n        this.main.loop = true;\n    }\n}\n\nexport default Noise;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/Noise.js\n **/","import { CONST, TYPES } from '../core/Constants'\nimport AudioContext from '../AudioContext'\nimport SoundSource from '../core/SoundSource'\n\nclass Oscillator extends SoundSource {\n\n    constructor (props) {\n        super(props);\n\n        this.detune = +props.detune || 0;\n\n        this.main = AudioContext.createOscillator();\n        this.main.type = props.type || CONST.WAVE_SINE;\n        this.main.connect(this.gain);\n\n        this.setDetune();\n    }\n\n    setDetune () {\n        if (this.detune > 1200) {\n            this.detune = 1200;\n        } else if (this.detune < -1200) {\n            this.detune = -1200;\n        }\n\n        this.main.detune.value = this.detune;\n    }\n\n    setNote (note) {\n        this.main.frequency.value = note;\n    }\n\n    getLineIn (sourceType, source) {\n        if (sourceType === TYPES.MODULATOR) {\n            return this.main[source.target];\n        } else {\n            return this.main.frequency;\n        }\n    }\n}\n\nexport default Oscillator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/modules/Oscillator.js\n **/","/*\n    Copyright (c) 2012 DinahMoe AB & Oskar Eriksson\n\n    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation\n    files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy,\n    modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software\n    is furnished to do so, subject to the following conditions:\n\n    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\n    OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n(function(window) {\n    var userContext,\n        userInstance,\n        pipe = function(param, val) {\n            param.value = val;\n        },\n        Super = Object.create(null, {\n            activate: {\n                writable: true,\n                value: function(doActivate) {\n                    if (doActivate) {\n                        this.input.disconnect();\n                        this.input.connect(this.activateNode);\n                        if (this.activateCallback) {\n                            this.activateCallback(doActivate);\n                        }\n                    } else {\n                        this.input.disconnect();\n                        this.input.connect(this.output);\n                    }\n                }\n            },\n            bypass: {\n                get: function() {\n                    return this._bypass;\n                },\n                set: function(value) {\n                    if (this._lastBypassValue === value) {\n                        return;\n                    }\n                    this._bypass = value;\n                    this.activate(!value);\n                    this._lastBypassValue = value;\n                }\n            },\n            connect: {\n                value: function(target) {\n                    this.output.connect(target);\n                }\n            },\n            disconnect: {\n                value: function(target) {\n                    this.output.disconnect(target);\n                }\n            },\n            connectInOrder: {\n                value: function(nodeArray) {\n                    var i = nodeArray.length - 1;\n                    while (i--) {\n                        if (!nodeArray[i].connect) {\n                            return console.error(\"AudioNode.connectInOrder: TypeError: Not an AudioNode.\", nodeArray[i]);\n                        }\n                        if (nodeArray[i + 1].input) {\n                            nodeArray[i].connect(nodeArray[i + 1].input);\n                        } else {\n                            nodeArray[i].connect(nodeArray[i + 1]);\n                        }\n                    }\n                }\n            },\n            getDefaults: {\n                value: function() {\n                    var result = {};\n                    for (var key in this.defaults) {\n                        result[key] = this.defaults[key].value;\n                    }\n                    return result;\n                }\n            },\n            automate: {\n                value: function(property, value, duration, startTime) {\n                    var start = startTime ? ~~(startTime / 1000) : userContext.currentTime,\n                        dur = duration ? ~~(duration / 1000) : 0,\n                        _is = this.defaults[property],\n                        param = this[property],\n                        method;\n\n                    if (param) {\n                        if (_is.automatable) {\n                            if (!duration) {\n                                method = \"setValueAtTime\";\n                            } else {\n                                method = \"linearRampToValueAtTime\";\n                                param.cancelScheduledValues(start);\n                                param.setValueAtTime(param.value, start);\n                            }\n                            param[method](value, dur + start);\n                        } else {\n                            param = value;\n                        }\n                    } else {\n                        console.error(\"Invalid Property for \" + this.name);\n                    }\n                }\n            }\n        }),\n        FLOAT = \"float\",\n        BOOLEAN = \"boolean\",\n        STRING = \"string\",\n        INT = \"int\";\n\n    if (typeof module !== \"undefined\" && module.exports) {\n        module.exports = Tuna;\n    } else if (typeof define === \"function\") {\n        window.define(\"Tuna\", definition);\n    } else {\n        window.Tuna = Tuna;\n    }\n\n    function definition() {\n        return Tuna;\n    }\n\n    function Tuna(context) {\n        if (!(this instanceof Tuna)) {\n            return new Tuna(context);\n        }\n        if (!window.AudioContext) {\n            window.AudioContext = window.webkitAudioContext;\n        }\n        if (!context) {\n            console.log(\"tuna.js: Missing audio context! Creating a new context for you.\");\n            context = window.AudioContext && (new window.AudioContext());\n        }\n        if (!context) {\n            throw new Error(\"Tuna cannot initialize because this environment does not support web audio.\");\n        }\n        connectify(context);\n        userContext = context;\n        userInstance = this;\n    }\n\n    function connectify(context) {\n        if (context.__connectified__ === true) return;\n\n        var gain = context.createGain(),\n            proto = Object.getPrototypeOf(Object.getPrototypeOf(gain)),\n            oconnect = proto.connect;\n\n        proto.connect = shimConnect;\n        context.__connectified__ = true; // Prevent overriding connect more than once\n\n        function shimConnect() {\n            var node = Array.prototype.shift.apply(arguments);\n            node = Super.isPrototypeOf ? (Super.isPrototypeOf(node) ? node.input : node) : (node.input || node);\n            arguments = Array.prototype.slice.call(arguments);\n            arguments.unshift(node);\n            oconnect.apply(this, arguments);\n            return node;\n        }\n    }\n\n    function dbToWAVolume(db) {\n        return Math.max(0, Math.round(100 * Math.pow(2, db / 6)) / 100);\n    }\n\n    function fmod(x, y) {\n        // http://kevin.vanzonneveld.net\n        // *     example 1: fmod(5.7, 1.3);\n        // *     returns 1: 0.5\n        var tmp, tmp2, p = 0,\n            pY = 0,\n            l = 0.0,\n            l2 = 0.0;\n\n        tmp = x.toExponential().match(/^.\\.?(.*)e(.+)$/);\n        p = parseInt(tmp[2], 10) - (tmp[1] + \"\").length;\n        tmp = y.toExponential().match(/^.\\.?(.*)e(.+)$/);\n        pY = parseInt(tmp[2], 10) - (tmp[1] + \"\").length;\n\n        if (pY > p) {\n            p = pY;\n        }\n\n        tmp2 = (x % y);\n\n        if (p < -100 || p > 20) {\n            // toFixed will give an out of bound error so we fix it like this:\n            l = Math.round(Math.log(tmp2) / Math.log(10));\n            l2 = Math.pow(10, l);\n\n            return (tmp2 / l2).toFixed(l - p) * l2;\n        } else {\n            return parseFloat(tmp2.toFixed(-p));\n        }\n    }\n\n    function sign(x) {\n        if (x === 0) {\n            return 1;\n        } else {\n            return Math.abs(x) / x;\n        }\n    }\n\n    function tanh(n) {\n        return (Math.exp(n) - Math.exp(-n)) / (Math.exp(n) + Math.exp(-n));\n    }\n\n    function initValue(userVal, defaultVal) {\n        return userVal === undefined ? defaultVal : userVal;\n    }\n\n    Tuna.prototype.Bitcrusher = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.bufferSize = properties.bufferSize || this.defaults.bufferSize.value;\n\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.processor = userContext.createScriptProcessor(this.bufferSize, 1, 1);\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.processor);\n        this.processor.connect(this.output);\n\n        var phaser = 0,\n            last = 0,\n            input, output, step, i, length;\n        this.processor.onaudioprocess = function(e) {\n            input = e.inputBuffer.getChannelData(0),\n            output = e.outputBuffer.getChannelData(0),\n            step = Math.pow(1 / 2, this.bits);\n            length = input.length;\n            for (i = 0; i < length; i++) {\n                phaser += this.normfreq;\n                if (phaser >= 1.0) {\n                    phaser -= 1.0;\n                    last = step * Math.floor(input[i] / step + 0.5);\n                }\n                output[i] = last;\n            }\n        };\n\n        this.bits = properties.bits || this.defaults.bits.value;\n        this.normfreq = initValue(properties.normfreq, this.defaults.normfreq.value);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Bitcrusher.prototype = Object.create(Super, {\n        name: {\n            value: \"Bitcrusher\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                bits: {\n                    value: 4,\n                    min: 1,\n                    max: 16,\n                    automatable: false,\n                    type: INT\n                },\n                bufferSize: {\n                    value: 4096,\n                    min: 256,\n                    max: 16384,\n                    automatable: false,\n                    type: INT\n                },\n                bypass: {\n                    value: true,\n                    automatable: false,\n                    type: BOOLEAN\n                },\n                normfreq: {\n                    value: 0.1,\n                    min: 0.0001,\n                    max: 1.0,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        bits: {\n            enumerable: true,\n            get: function() {\n                return this.processor.bits;\n            },\n            set: function(value) {\n                this.processor.bits = value;\n            }\n        },\n        normfreq: {\n            enumerable: true,\n            get: function() {\n                return this.processor.normfreq;\n            },\n            set: function(value) {\n                this.processor.normfreq = value;\n            }\n        }\n    });\n\n    Tuna.prototype.Cabinet = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.convolver = this.newConvolver(properties.impulsePath ||\n            \"../impulses/impulse_guitar.wav\");\n        this.makeupNode = userContext.createGain();\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.convolver.input);\n        this.convolver.output.connect(this.makeupNode);\n        this.makeupNode.connect(this.output);\n\n        this.makeupGain = initValue(properties.makeupGain, this.defaults\n            .makeupGain);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Cabinet.prototype = Object.create(Super, {\n        name: {\n            value: \"Cabinet\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                makeupGain: {\n                    value: 1,\n                    min: 0,\n                    max: 20,\n                    automatable: true,\n                    type: FLOAT\n                },\n                bypass: {\n                    value: false,\n                    automatable: false,\n                    type: BOOLEAN\n                }\n            }\n        },\n        makeupGain: {\n            enumerable: true,\n            get: function() {\n                return this.makeupNode.gain;\n            },\n            set: function(value) {\n                this.makeupNode.gain.value = value;\n            }\n        },\n        newConvolver: {\n            value: function(impulsePath) {\n                return new userInstance.Convolver({\n                    impulse: impulsePath,\n                    dryLevel: 0,\n                    wetLevel: 1\n                });\n            }\n        }\n    });\n\n    Tuna.prototype.Chorus = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.attenuator = this.activateNode = userContext.createGain();\n        this.splitter = userContext.createChannelSplitter(2);\n        this.delayL = userContext.createDelay();\n        this.delayR = userContext.createDelay();\n        this.feedbackGainNodeLR = userContext.createGain();\n        this.feedbackGainNodeRL = userContext.createGain();\n        this.merger = userContext.createChannelMerger(2);\n        this.output = userContext.createGain();\n\n        this.lfoL = new userInstance.LFO({\n            target: this.delayL.delayTime,\n            callback: pipe\n        });\n        this.lfoR = new userInstance.LFO({\n            target: this.delayR.delayTime,\n            callback: pipe\n        });\n\n        this.input.connect(this.attenuator);\n        this.attenuator.connect(this.output);\n        this.attenuator.connect(this.splitter);\n        this.splitter.connect(this.delayL, 0);\n        this.splitter.connect(this.delayR, 1);\n        this.delayL.connect(this.feedbackGainNodeLR);\n        this.delayR.connect(this.feedbackGainNodeRL);\n        this.feedbackGainNodeLR.connect(this.delayR);\n        this.feedbackGainNodeRL.connect(this.delayL);\n        this.delayL.connect(this.merger, 0, 0);\n        this.delayR.connect(this.merger, 0, 1);\n        this.merger.connect(this.output);\n\n        this.feedback = initValue(properties.feedback, this.defaults.feedback\n            .value);\n        this.rate = initValue(properties.rate, this.defaults.rate.value);\n        this.delay = initValue(properties.delay, this.defaults.delay.value);\n        this.depth = initValue(properties.depth, this.defaults.depth.value);\n        this.lfoR.phase = Math.PI / 2;\n        this.attenuator.gain.value = 0.6934; // 1 / (10 ^ (((20 * log10(3)) / 3) / 20))\n        this.lfoL.activate(true);\n        this.lfoR.activate(true);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Chorus.prototype = Object.create(Super, {\n        name: {\n            value: \"Chorus\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                feedback: {\n                    value: 0.4,\n                    min: 0,\n                    max: 0.95,\n                    automatable: false,\n                    type: FLOAT\n                },\n                delay: {\n                    value: 0.0045,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                depth: {\n                    value: 0.7,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                rate: {\n                    value: 1.5,\n                    min: 0,\n                    max: 8,\n                    automatable: false,\n                    type: FLOAT\n                },\n                bypass: {\n                    value: true,\n                    automatable: false,\n                    type: BOOLEAN\n                }\n            }\n        },\n        delay: {\n            enumerable: true,\n            get: function() {\n                return this._delay;\n            },\n            set: function(value) {\n                this._delay = 0.0002 * (Math.pow(10, value) * 2);\n                this.lfoL.offset = this._delay;\n                this.lfoR.offset = this._delay;\n                this._depth = this._depth;\n            }\n        },\n        depth: {\n            enumerable: true,\n            get: function() {\n                return this._depth;\n            },\n            set: function(value) {\n                this._depth = value;\n                this.lfoL.oscillation = this._depth * this._delay;\n                this.lfoR.oscillation = this._depth * this._delay;\n            }\n        },\n        feedback: {\n            enumerable: true,\n            get: function() {\n                return this._feedback;\n            },\n            set: function(value) {\n                this._feedback = value;\n                this.feedbackGainNodeLR.gain.value = this._feedback;\n                this.feedbackGainNodeRL.gain.value = this._feedback;\n            }\n        },\n        rate: {\n            enumerable: true,\n            get: function() {\n                return this._rate;\n            },\n            set: function(value) {\n                this._rate = value;\n                this.lfoL.frequency = this._rate;\n                this.lfoR.frequency = this._rate;\n            }\n        }\n    });\n\n    Tuna.prototype.Compressor = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.compNode = this.activateNode = userContext.createDynamicsCompressor();\n        this.makeupNode = userContext.createGain();\n        this.output = userContext.createGain();\n\n        this.compNode.connect(this.makeupNode);\n        this.makeupNode.connect(this.output);\n\n        this.automakeup = initValue(properties.automakeup, this.defaults\n            .automakeup\n            .value);\n        this.makeupGain = properties.makeupGain || this.defaults.makeupGain\n            .value;\n        this.threshold = initValue(properties.threshold, this.defaults.threshold\n            .value);\n        this.release = properties.release || this.defaults.release.value;\n        this.attack = initValue(properties.attack, this.defaults.attack\n            .value);\n        this.ratio = properties.ratio || this.defaults.ratio.value;\n        this.knee = initValue(properties.knee, this.defaults.knee.value);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Compressor.prototype = Object.create(Super, {\n        name: {\n            value: \"Compressor\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                threshold: {\n                    value: -20,\n                    min: -60,\n                    max: 0,\n                    automatable: true,\n                    type: FLOAT\n                },\n                release: {\n                    value: 250,\n                    min: 10,\n                    max: 2000,\n                    automatable: true,\n                    type: FLOAT\n                },\n                makeupGain: {\n                    value: 1,\n                    min: 1,\n                    max: 100,\n                    automatable: true,\n                    type: FLOAT\n                },\n                attack: {\n                    value: 1,\n                    min: 0,\n                    max: 1000,\n                    automatable: true,\n                    type: FLOAT\n                },\n                ratio: {\n                    value: 4,\n                    min: 1,\n                    max: 50,\n                    automatable: true,\n                    type: FLOAT\n                },\n                knee: {\n                    value: 5,\n                    min: 0,\n                    max: 40,\n                    automatable: true,\n                    type: FLOAT\n                },\n                automakeup: {\n                    value: false,\n                    automatable: false,\n                    type: BOOLEAN\n                },\n                bypass: {\n                    value: true,\n                    automatable: false,\n                    type: BOOLEAN\n                }\n            }\n        },\n        computeMakeup: {\n            value: function() {\n                var magicCoefficient = 4,\n                    // raise me if the output is too hot\n                    c = this.compNode;\n                return -(c.threshold.value - c.threshold.value /\n                        c.ratio.value) /\n                    magicCoefficient;\n            }\n        },\n        automakeup: {\n            enumerable: true,\n            get: function() {\n                return this._automakeup;\n            },\n            set: function(value) {\n                this._automakeup = value;\n                if (this._automakeup) this.makeupGain = this.computeMakeup();\n            }\n        },\n        threshold: {\n            enumerable: true,\n            get: function() {\n                return this.compNode.threshold;\n            },\n            set: function(value) {\n                this.compNode.threshold.value = value;\n                if (this._automakeup) this.makeupGain = this.computeMakeup();\n            }\n        },\n        ratio: {\n            enumerable: true,\n            get: function() {\n                return this.compNode.ratio;\n            },\n            set: function(value) {\n                this.compNode.ratio.value = value;\n                if (this._automakeup) this.makeupGain = this.computeMakeup();\n            }\n        },\n        knee: {\n            enumerable: true,\n            get: function() {\n                return this.compNode.knee;\n            },\n            set: function(value) {\n                this.compNode.knee.value = value;\n                if (this._automakeup) this.makeupGain = this.computeMakeup();\n            }\n        },\n        attack: {\n            enumerable: true,\n            get: function() {\n                return this.compNode.attack;\n            },\n            set: function(value) {\n                this.compNode.attack.value = value / 1000;\n            }\n        },\n        release: {\n            enumerable: true,\n            get: function() {\n                return this.compNode.release;\n            },\n            set: function(value) {\n                this.compNode.release = value / 1000;\n            }\n        },\n        makeupGain: {\n            enumerable: true,\n            get: function() {\n                return this.makeupNode.gain;\n            },\n            set: function(value) {\n                this.makeupNode.gain.value = dbToWAVolume(value);\n            }\n        }\n    });\n\n    Tuna.prototype.Convolver = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.convolver = userContext.createConvolver();\n        this.dry = userContext.createGain();\n        this.filterLow = userContext.createBiquadFilter();\n        this.filterHigh = userContext.createBiquadFilter();\n        this.wet = userContext.createGain();\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.filterLow);\n        this.activateNode.connect(this.dry);\n        this.filterLow.connect(this.filterHigh);\n        this.filterHigh.connect(this.convolver);\n        this.convolver.connect(this.wet);\n        this.wet.connect(this.output);\n        this.dry.connect(this.output);\n\n        this.dryLevel = initValue(properties.dryLevel, this.defaults.dryLevel\n            .value);\n        this.wetLevel = initValue(properties.wetLevel, this.defaults.wetLevel\n            .value);\n        this.highCut = properties.highCut || this.defaults.highCut.value;\n        this.buffer = properties.impulse ||\n            \"../impulses/ir_rev_short.wav\";\n        this.lowCut = properties.lowCut || this.defaults.lowCut.value;\n        this.level = initValue(properties.level, this.defaults.level.value);\n        this.filterHigh.type = \"lowpass\";\n        this.filterLow.type = \"highpass\";\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Convolver.prototype = Object.create(Super, {\n        name: {\n            value: \"Convolver\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                highCut: {\n                    value: 22050,\n                    min: 20,\n                    max: 22050,\n                    automatable: true,\n                    type: FLOAT\n                },\n                lowCut: {\n                    value: 20,\n                    min: 20,\n                    max: 22050,\n                    automatable: true,\n                    type: FLOAT\n                },\n                dryLevel: {\n                    value: 1,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT\n                },\n                wetLevel: {\n                    value: 1,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT\n                },\n                level: {\n                    value: 1,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT\n                }\n            }\n        },\n        lowCut: {\n            get: function() {\n                return this.filterLow.frequency;\n            },\n            set: function(value) {\n                this.filterLow.frequency.value = value;\n            }\n        },\n        highCut: {\n            get: function() {\n                return this.filterHigh.frequency;\n            },\n            set: function(value) {\n                this.filterHigh.frequency.value = value;\n            }\n        },\n        level: {\n            get: function() {\n                return this.output.gain;\n            },\n            set: function(value) {\n                this.output.gain.value = value;\n            }\n        },\n        dryLevel: {\n            get: function() {\n                return this.dry.gain\n            },\n            set: function(value) {\n                this.dry.gain.value = value;\n            }\n        },\n        wetLevel: {\n            get: function() {\n                return this.wet.gain;\n            },\n            set: function(value) {\n                this.wet.gain.value = value;\n            }\n        },\n        buffer: {\n            enumerable: false,\n            get: function() {\n                return this.convolver.buffer;\n            },\n            set: function(impulse) {\n                var convolver = this.convolver,\n                    xhr = new XMLHttpRequest();\n                if (!impulse) {\n                    console.log(\"Tuna.Convolver.setBuffer: Missing impulse path!\");\n                    return;\n                }\n                xhr.open(\"GET\", impulse, true);\n                xhr.responseType = \"arraybuffer\";\n                xhr.onreadystatechange = function() {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status < 300 && xhr.status > 199 || xhr.status === 302) {\n                            userContext.decodeAudioData(xhr.response, function(buffer) {\n                                convolver.buffer = buffer;\n                            }, function(e) {\n                                if (e) console.log(\"Tuna.Convolver.setBuffer: Error decoding data\" + e);\n                            });\n                        }\n                    }\n                };\n                xhr.send(null);\n            }\n        }\n    });\n\n    Tuna.prototype.Delay = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.dry = userContext.createGain();\n        this.wet = userContext.createGain();\n        this.filter = userContext.createBiquadFilter();\n        this.delay = userContext.createDelay();\n        this.feedbackNode = userContext.createGain();\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.delay);\n        this.activateNode.connect(this.dry);\n        this.delay.connect(this.filter);\n        this.filter.connect(this.feedbackNode);\n        this.feedbackNode.connect(this.delay);\n        this.feedbackNode.connect(this.wet);\n        this.wet.connect(this.output);\n        this.dry.connect(this.output);\n\n        this.delayTime = properties.delayTime || this.defaults.delayTime.value;\n        this.feedback = initValue(properties.feedback, this.defaults.feedback.value);\n        this.wetLevel = initValue(properties.wetLevel, this.defaults.wetLevel.value);\n        this.dryLevel = initValue(properties.dryLevel, this.defaults.dryLevel.value);\n        this.cutoff = properties.cutoff || this.defaults.cutoff.value;\n        this.filter.type = \"lowpass\";\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Delay.prototype = Object.create(Super, {\n        name: {\n            value: \"Delay\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                delayTime: {\n                    value: 100,\n                    min: 20,\n                    max: 1000,\n                    automatable: false,\n                    type: FLOAT\n                },\n                feedback: {\n                    value: 0.45,\n                    min: 0,\n                    max: 0.9,\n                    automatable: true,\n                    type: FLOAT\n                },\n                cutoff: {\n                    value: 20000,\n                    min: 20,\n                    max: 20000,\n                    automatable: true,\n                    type: FLOAT\n                },\n                wetLevel: {\n                    value: 0.5,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT\n                },\n                dryLevel: {\n                    value: 1,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT\n                }\n            }\n        },\n        delayTime: {\n            enumerable: true,\n            get: function() {\n                return this.delay.delayTime;\n            },\n            set: function(value) {\n                this.delay.delayTime.value = value / 1000;\n            }\n        },\n        wetLevel: {\n            enumerable: true,\n            get: function() {\n                return this.wet.gain;\n            },\n            set: function(value) {\n                this.wet.gain.value = value;\n            }\n        },\n        dryLevel: {\n            enumerable: true,\n            get: function() {\n                return this.dry.gain;\n            },\n            set: function(value) {\n                this.dry.gain.value = value;\n            }\n        },\n        feedback: {\n            enumerable: true,\n            get: function() {\n                return this.feedbackNode.gain;\n            },\n            set: function(value) {\n                this.feedbackNode.gain.value = value;\n            }\n        },\n        cutoff: {\n            enumerable: true,\n            get: function() {\n                return this.filter.frequency;\n            },\n            set: function(value) {\n                this.filter.frequency.value = value;\n            }\n        }\n    });\n\n    Tuna.prototype.Filter = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.filter = userContext.createBiquadFilter();\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.filter);\n        this.filter.connect(this.output);\n\n        this.frequency = properties.frequency || this.defaults.frequency\n            .value;\n        this.Q = properties.resonance || this.defaults.Q.value;\n        this.filterType = initValue(properties.filterType, this.defaults\n            .filterType\n            .value);\n        this.gain = initValue(properties.gain, this.defaults.gain.value);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Filter.prototype = Object.create(Super, {\n        name: {\n            value: \"Filter\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                frequency: {\n                    value: 800,\n                    min: 20,\n                    max: 22050,\n                    automatable: true,\n                    type: FLOAT\n                },\n                Q: {\n                    value: 1,\n                    min: 0.001,\n                    max: 100,\n                    automatable: true,\n                    type: FLOAT\n                },\n                gain: {\n                    value: 0,\n                    min: -40,\n                    max: 40,\n                    automatable: true,\n                    type: FLOAT\n                },\n                bypass: {\n                    value: true,\n                    automatable: false,\n                    type: BOOLEAN\n                },\n                filterType: {\n                    value: \"lowpass\",\n                    automatable: false,\n                    type: STRING\n                }\n            }\n        },\n        filterType: {\n            enumerable: true,\n            get: function() {\n                return this.filter.type;\n            },\n            set: function(value) {\n                this.filter.type = value;\n            }\n        },\n        Q: {\n            enumerable: true,\n            get: function() {\n                return this.filter.Q;\n            },\n            set: function(value) {\n                this.filter.Q.value = value;\n            }\n        },\n        gain: {\n            enumerable: true,\n            get: function() {\n                return this.filter.gain;\n            },\n            set: function(value) {\n                this.filter.gain.value = value;\n            }\n        },\n        frequency: {\n            enumerable: true,\n            get: function() {\n                return this.filter.frequency;\n            },\n            set: function(value) {\n                this.filter.frequency.value = value;\n            }\n        }\n    });\n\n    Tuna.prototype.MoogFilter = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.bufferSize = properties.bufferSize || this.defaults.bufferSize\n            .value;\n\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.processor = userContext.createScriptProcessor(this.bufferSize,\n            1,\n            1);\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.processor);\n        this.processor.connect(this.output);\n\n        var in1, in2, in3, in4, out1, out2, out3, out4;\n        in1 = in2 = in3 = in4 = out1 = out2 = out3 = out4 = 0.0;\n        var input, output, f, fb, i, length;\n        this.processor.onaudioprocess = function(e) {\n            input = e.inputBuffer.getChannelData(0),\n                output = e.outputBuffer.getChannelData(0),\n                f = this.cutoff * 1.16,\n                inputFactor = 0.35013 * (f * f) * (f * f);\n            fb = this.resonance * (1.0 - 0.15 * f * f);\n            length = input.length;\n            for (i = 0; i < length; i++) {\n                input[i] -= out4 * fb;\n                input[i] *= inputFactor;\n                out1 = input[i] + 0.3 * in1 + (1 - f) * out1; // Pole 1\n                in1 = input[i];\n                out2 = out1 + 0.3 * in2 + (1 - f) * out2; // Pole 2\n                in2 = out1;\n                out3 = out2 + 0.3 * in3 + (1 - f) * out3; // Pole 3\n                in3 = out2;\n                out4 = out3 + 0.3 * in4 + (1 - f) * out4; // Pole 4\n                in4 = out3;\n                output[i] = out4;\n            }\n        };\n\n        this.cutoff = initValue(properties.cutoff, this.defaults.cutoff\n            .value);\n        this.resonance = initValue(properties.resonance, this.defaults.resonance\n            .value);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.MoogFilter.prototype = Object.create(Super, {\n        name: {\n            value: \"MoogFilter\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                bufferSize: {\n                    value: 4096,\n                    min: 256,\n                    max: 16384,\n                    automatable: false,\n                    type: INT\n                },\n                bypass: {\n                    value: false,\n                    automatable: false,\n                    type: BOOLEAN\n                },\n                cutoff: {\n                    value: 0.065,\n                    min: 0.0001,\n                    max: 1.0,\n                    automatable: false,\n                    type: FLOAT\n                },\n                resonance: {\n                    value: 3.5,\n                    min: 0.0,\n                    max: 4.0,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        cutoff: {\n            enumerable: true,\n            get: function() {\n                return this.processor.cutoff;\n            },\n            set: function(value) {\n                this.processor.cutoff = value;\n            }\n        },\n        resonance: {\n            enumerable: true,\n            get: function() {\n                return this.processor.resonance;\n            },\n            set: function(value) {\n                this.processor.resonance = value;\n            }\n        }\n    });\n\n    Tuna.prototype.Overdrive = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.inputDrive = userContext.createGain();\n        this.waveshaper = userContext.createWaveShaper();\n        this.outputDrive = userContext.createGain();\n        this.output = userContext.createGain();\n\n        this.activateNode.connect(this.inputDrive);\n        this.inputDrive.connect(this.waveshaper);\n        this.waveshaper.connect(this.outputDrive);\n        this.outputDrive.connect(this.output);\n\n        this.ws_table = new Float32Array(this.k_nSamples);\n        this.drive = initValue(properties.drive, this.defaults.drive.value);\n        this.outputGain = initValue(properties.outputGain, this.defaults\n            .outputGain\n            .value);\n        this.curveAmount = initValue(properties.curveAmount, this.defaults\n            .curveAmount\n            .value);\n        this.algorithmIndex = initValue(properties.algorithmIndex, this\n            .defaults\n            .algorithmIndex.value);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Overdrive.prototype = Object.create(Super, {\n        name: {\n            value: \"Overdrive\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                drive: {\n                    value: 1,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT,\n                    scaled: true\n                },\n                outputGain: {\n                    value: 1,\n                    min: 0,\n                    max: 1,\n                    automatable: true,\n                    type: FLOAT,\n                    scaled: true\n                },\n                curveAmount: {\n                    value: 0.725,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                algorithmIndex: {\n                    value: 0,\n                    min: 0,\n                    max: 5,\n                    automatable: false,\n                    type: INT\n                }\n            }\n        },\n        k_nSamples: {\n            value: 8192\n        },\n        drive: {\n            get: function() {\n                return this.inputDrive.gain;\n            },\n            set: function(value) {\n                this._drive = value;\n            }\n        },\n        curveAmount: {\n            get: function() {\n                return this._curveAmount;\n            },\n            set: function(value) {\n                this._curveAmount = value;\n                if (this._algorithmIndex === undefined) {\n                    this._algorithmIndex = 0;\n                }\n                this.waveshaperAlgorithms[this._algorithmIndex]\n                    (this._curveAmount,\n                        this.k_nSamples, this.ws_table);\n                this.waveshaper.curve = this.ws_table;\n            }\n        },\n        outputGain: {\n            get: function() {\n                return this.outputDrive.gain;\n            },\n            set: function(value) {\n                this._outputGain = dbToWAVolume(value);\n            }\n        },\n        algorithmIndex: {\n            get: function() {\n                return this._algorithmIndex;\n            },\n            set: function(value) {\n                this._algorithmIndex = value;\n                this.curveAmount = this._curveAmount;\n            }\n        },\n        waveshaperAlgorithms: {\n            value: [\n                function(amount, n_samples, ws_table) {\n                    amount = Math.min(amount, 0.9999);\n                    var k = 2 * amount / (1 - amount),\n                        i, x;\n                    for (i = 0; i < n_samples; i++) {\n                        x = i * 2 / n_samples - 1;\n                        ws_table[i] = (1 + k) * x / (1 + k * Math.abs(x));\n                    }\n                },\n                function(amount, n_samples, ws_table) {\n                    var i, x, y;\n                    for (i = 0; i < n_samples; i++) {\n                        x = i * 2 / n_samples - 1;\n                        y = ((0.5 * Math.pow((x + 1.4), 2)) - 1) * y >= 0 ? 5.8 : 1.2;\n                        ws_table[i] = tanh(y);\n                    }\n                },\n                function(amount, n_samples, ws_table) {\n                    var i, x, y, a = 1 - amount;\n                    for (i = 0; i < n_samples; i++) {\n                        x = i * 2 / n_samples - 1;\n                        y = x < 0 ? -Math.pow(Math.abs(x), a + 0.04) : Math.pow(x, a);\n                        ws_table[i] = tanh(y * 2);\n                    }\n                },\n                function(amount, n_samples, ws_table) {\n                    var i, x, y, abx, a = 1 - amount > 0.99 ? 0.99 : 1 - amount;\n                    for (i = 0; i < n_samples; i++) {\n                        x = i * 2 / n_samples - 1;\n                        abx = Math.abs(x);\n                        if (abx < a) y = abx;\n                        else if (abx > a) y = a + (abx - a) / (1 + Math.pow((abx - a) / (1 - a), 2));\n                        else if (abx > 1) y = abx;\n                        ws_table[i] = sign(x) * y * (1 / ((a + 1) / 2));\n                    }\n                },\n                function(amount, n_samples, ws_table) { // fixed curve, amount doesn't do anything, the distortion is just from the drive\n                    var i, x;\n                    for (i = 0; i < n_samples; i++) {\n                        x = i * 2 / n_samples - 1;\n                        if (x < -0.08905) {\n                            ws_table[i] = (-3 / 4) * (1 - (Math.pow((1 - (Math.abs(x) - 0.032857)), 12)) + (1 / 3) * (Math.abs(x) -\n                                0.032847)) + 0.01;\n                        } else if (x >= -0.08905 && x < 0.320018) {\n                            ws_table[i] = (-6.153 * (x * x)) + 3.9375 * x;\n                        } else {\n                            ws_table[i] = 0.630035;\n                        }\n                    }\n                },\n                function(amount, n_samples, ws_table) {\n                    var a = 2 + Math.round(amount * 14),\n                        // we go from 2 to 16 bits, keep in mind for the UI\n                        bits = Math.round(Math.pow(2, a - 1)),\n                        // real number of quantization steps divided by 2\n                        i, x;\n                    for (i = 0; i < n_samples; i++) {\n                        x = i * 2 / n_samples - 1;\n                        ws_table[i] = Math.round(x * bits) / bits;\n                    }\n                }\n            ]\n        }\n    });\n\n    Tuna.prototype.Phaser = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.splitter = this.activateNode = userContext.createChannelSplitter(2);\n        this.filtersL = [];\n        this.filtersR = [];\n        this.feedbackGainNodeL = userContext.createGain();\n        this.feedbackGainNodeR = userContext.createGain();\n        this.merger = userContext.createChannelMerger(2);\n        this.filteredSignal = userContext.createGain();\n        this.output = userContext.createGain();\n        this.lfoL = new userInstance.LFO({\n            target: this.filtersL,\n            callback: this.callback\n        });\n        this.lfoR = new userInstance.LFO({\n            target: this.filtersR,\n            callback: this.callback\n        });\n\n        var i = this.stage;\n        while (i--) {\n            this.filtersL[i] = userContext.createBiquadFilter();\n            this.filtersR[i] = userContext.createBiquadFilter();\n            this.filtersL[i].type = \"allpass\";\n            this.filtersR[i].type = \"allpass\";\n        }\n        this.input.connect(this.splitter);\n        this.input.connect(this.output);\n        this.splitter.connect(this.filtersL[0], 0, 0);\n        this.splitter.connect(this.filtersR[0], 1, 0);\n        this.connectInOrder(this.filtersL);\n        this.connectInOrder(this.filtersR);\n        this.filtersL[this.stage - 1].connect(this.feedbackGainNodeL);\n        this.filtersL[this.stage - 1].connect(this.merger, 0, 0);\n        this.filtersR[this.stage - 1].connect(this.feedbackGainNodeR);\n        this.filtersR[this.stage - 1].connect(this.merger, 0, 1);\n        this.feedbackGainNodeL.connect(this.filtersL[0]);\n        this.feedbackGainNodeR.connect(this.filtersR[0]);\n        this.merger.connect(this.output);\n\n        this.rate = initValue(properties.rate, this.defaults.rate.value);\n        this.baseModulationFrequency = properties.baseModulationFrequency || this.defaults.baseModulationFrequency.value;\n        this.depth = initValue(properties.depth, this.defaults.depth.value);\n        this.feedback = initValue(properties.feedback, this.defaults.feedback.value);\n        this.stereoPhase = initValue(properties.stereoPhase, this.defaults.stereoPhase.value);\n\n        this.lfoL.activate(true);\n        this.lfoR.activate(true);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Phaser.prototype = Object.create(Super, {\n        name: {\n            value: \"Phaser\"\n        },\n        stage: {\n            value: 4\n        },\n        defaults: {\n            writable: true,\n            value: {\n                rate: {\n                    value: 0.1,\n                    min: 0,\n                    max: 8,\n                    automatable: false,\n                    type: FLOAT\n                },\n                depth: {\n                    value: 0.6,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                feedback: {\n                    value: 0.7,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                stereoPhase: {\n                    value: 40,\n                    min: 0,\n                    max: 180,\n                    automatable: false,\n                    type: FLOAT\n                },\n                baseModulationFrequency: {\n                    value: 700,\n                    min: 500,\n                    max: 1500,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        callback: {\n            value: function(filters, value) {\n                for (var stage = 0; stage < 4; stage++) {\n                    filters[stage].frequency.value = value;\n                }\n            }\n        },\n        depth: {\n            get: function() {\n                return this._depth;\n            },\n            set: function(value) {\n                this._depth = value;\n                this.lfoL.oscillation = this._baseModulationFrequency * this._depth;\n                this.lfoR.oscillation = this._baseModulationFrequency * this._depth;\n            }\n        },\n        rate: {\n            get: function() {\n                return this._rate;\n            },\n            set: function(value) {\n                this._rate = value;\n                this.lfoL.frequency = this._rate;\n                this.lfoR.frequency = this._rate;\n            }\n        },\n        baseModulationFrequency: {\n            enumerable: true,\n            get: function() {\n                return this._baseModulationFrequency;\n            },\n            set: function(value) {\n                this._baseModulationFrequency = value;\n                this.lfoL.offset = this._baseModulationFrequency;\n                this.lfoR.offset = this._baseModulationFrequency;\n                this._depth = this._depth;\n            }\n        },\n        feedback: {\n            get: function() {\n                return this._feedback;\n            },\n            set: function(value) {\n                this._feedback = value;\n                this.feedbackGainNodeL.gain.value = this._feedback;\n                this.feedbackGainNodeR.gain.value = this._feedback;\n            }\n        },\n        stereoPhase: {\n            get: function() {\n                return this._stereoPhase;\n            },\n            set: function(value) {\n                this._stereoPhase = value;\n                var newPhase = this.lfoL._phase + this._stereoPhase *\n                    Math.PI /\n                    180;\n                newPhase = fmod(newPhase, 2 * Math.PI);\n                this.lfoR._phase = newPhase;\n            }\n        }\n    });\n\n    Tuna.prototype.PingPongDelay = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.wetLevel = userContext.createGain();\n        this.stereoToMonoMix = userContext.createGain();\n        this.feedbackLevel = userContext.createGain();\n        this.output = userContext.createGain();\n        this.delayLeft = userContext.createDelay();\n        this.delayRight = userContext.createDelay();\n\n        this.activateNode = userContext.createGain();\n        this.splitter = userContext.createChannelSplitter(2);\n        this.merger = userContext.createChannelMerger(2);\n\n        this.activateNode.connect(this.splitter);\n        this.splitter.connect(this.stereoToMonoMix, 0, 0);\n        this.splitter.connect(this.stereoToMonoMix, 1, 0);\n        this.stereoToMonoMix.gain.value = .5;\n        this.stereoToMonoMix.connect(this.wetLevel);\n        this.wetLevel.connect(this.delayLeft);\n        this.feedbackLevel.connect(this.delayLeft);\n        this.delayLeft.connect(this.delayRight);\n        this.delayRight.connect(this.feedbackLevel);\n        this.delayLeft.connect(this.merger, 0, 0);\n        this.delayRight.connect(this.merger, 0, 1);\n        this.merger.connect(this.output);\n        this.activateNode.connect(this.output);\n\n        this.delayTimeLeft = properties.delayTimeLeft !== undefined ? properties.delayTimeLeft : this.defaults.delayTimeLeft.value;\n        this.delayTimeRight = properties.delayTimeRight !== undefined ? properties.delayTimeRight : this.defaults.delayTimeRight.value;\n        this.feedbackLevel.gain.value = properties.feedback !== undefined ? properties.feedback : this.defaults.feedback.value;\n        this.wetLevel.gain.value = properties.wetLevel !== undefined ? properties.wetLevel : this.defaults.wetLevel.value;\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.PingPongDelay.prototype = Object.create(Super, {\n        name: {\n            value: \"PingPongDelay\"\n        },\n        delayTimeLeft: {\n            enumerable: true,\n            get: function() {\n                return this._delayTimeLeft;\n            },\n            set: function(value) {\n                this._delayTimeLeft = value;\n                this.delayLeft.delayTime.value = value / 1000;\n            }\n        },\n        delayTimeRight: {\n            enumerable: true,\n            get: function() {\n                return this._delayTimeRight;\n            },\n            set: function(value) {\n                this._delayTimeRight = value;\n                this.delayRight.delayTime.value = value / 1000;\n            }\n        },\n        defaults: {\n            writable: true,\n            value: {\n                delayTimeLeft: {\n                    value: 200,\n                    min: 1,\n                    max: 10000,\n                    automatable: false,\n                    type: INT\n                },\n                delayTimeRight: {\n                    value: 400,\n                    min: 1,\n                    max: 10000,\n                    automatable: false,\n                    type: INT\n                },\n                feedback: {\n                    value: 0.3,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                wetLevel: {\n                    value: 0.5,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        }\n    });\n\n    Tuna.prototype.Tremolo = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.splitter = this.activateNode = userContext.createChannelSplitter(\n                2),\n            this.amplitudeL = userContext.createGain(), this.amplitudeR =\n            userContext.createGain(), this.merger = userContext.createChannelMerger(\n                2), this.output = userContext.createGain();\n        this.lfoL = new userInstance.LFO({\n            target: this.amplitudeL.gain,\n            callback: pipe\n        });\n        this.lfoR = new userInstance.LFO({\n            target: this.amplitudeR.gain,\n            callback: pipe\n        });\n\n        this.input.connect(this.splitter);\n        this.splitter.connect(this.amplitudeL, 0);\n        this.splitter.connect(this.amplitudeR, 1);\n        this.amplitudeL.connect(this.merger, 0, 0);\n        this.amplitudeR.connect(this.merger, 0, 1);\n        this.merger.connect(this.output);\n\n        this.rate = properties.rate || this.defaults.rate.value;\n        this.intensity = initValue(properties.intensity, this.defaults.intensity\n            .value);\n        this.stereoPhase = initValue(properties.stereoPhase, this.defaults\n            .stereoPhase\n            .value);\n\n        this.lfoL.offset = 1 - (this.intensity / 2);\n        this.lfoR.offset = 1 - (this.intensity / 2);\n        this.lfoL.phase = this.stereoPhase * Math.PI / 180;\n\n        this.lfoL.activate(true);\n        this.lfoR.activate(true);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.Tremolo.prototype = Object.create(Super, {\n        name: {\n            value: \"Tremolo\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                intensity: {\n                    value: 0.3,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                stereoPhase: {\n                    value: 0,\n                    min: 0,\n                    max: 180,\n                    automatable: false,\n                    type: FLOAT\n                },\n                rate: {\n                    value: 5,\n                    min: 0.1,\n                    max: 11,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        intensity: {\n            enumerable: true,\n            get: function() {\n                return this._intensity;\n            },\n            set: function(value) {\n                this._intensity = value;\n                this.lfoL.offset = 1 - this._intensity / 2;\n                this.lfoR.offset = 1 - this._intensity / 2;\n                this.lfoL.oscillation = this._intensity;\n                this.lfoR.oscillation = this._intensity;\n            }\n        },\n        rate: {\n            enumerable: true,\n            get: function() {\n                return this._rate;\n            },\n            set: function(value) {\n                this._rate = value;\n                this.lfoL.frequency = this._rate;\n                this.lfoR.frequency = this._rate;\n            }\n        },\n        stereoPhase: {\n            enumerable: true,\n            get: function() {\n                return this._rate;\n            },\n            set: function(value) {\n                this._stereoPhase = value;\n                var newPhase = this.lfoL._phase + this._stereoPhase *\n                    Math.PI /\n                    180;\n                newPhase = fmod(newPhase, 2 * Math.PI);\n                this.lfoR.phase = newPhase;\n            }\n        }\n    });\n\n    Tuna.prototype.WahWah = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.activateNode = userContext.createGain();\n        this.envelopeFollower = new userInstance.EnvelopeFollower({\n            target: this,\n            callback: function(context, value) {\n                context.sweep = value;\n            }\n        });\n        this.filterBp = userContext.createBiquadFilter();\n        this.filterPeaking = userContext.createBiquadFilter();\n        this.output = userContext.createGain();\n\n        //Connect AudioNodes\n        this.activateNode.connect(this.filterBp);\n        this.filterBp.connect(this.filterPeaking);\n        this.filterPeaking.connect(this.output);\n\n        //Set Properties\n        this.init();\n        this.automode = initValue(properties.enableAutoMode, this.defaults\n            .automode\n            .value);\n        this.resonance = properties.resonance || this.defaults.resonance\n            .value;\n        this.sensitivity = initValue(properties.sensitivity, this.defaults\n            .sensitivity\n            .value);\n        this.baseFrequency = initValue(properties.baseFrequency, this.defaults\n            .baseFrequency\n            .value);\n        this.excursionOctaves = properties.excursionOctaves || this.defaults\n            .excursionOctaves\n            .value;\n        this.sweep = initValue(properties.sweep, this.defaults.sweep.value);\n\n        this.activateNode.gain.value = 2;\n        this.envelopeFollower.activate(true);\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.WahWah.prototype = Object.create(Super, {\n        name: {\n            value: \"WahWah\"\n        },\n        defaults: {\n            writable: true,\n            value: {\n                automode: {\n                    value: true,\n                    automatable: false,\n                    type: BOOLEAN\n                },\n                baseFrequency: {\n                    value: 0.5,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                excursionOctaves: {\n                    value: 2,\n                    min: 1,\n                    max: 6,\n                    automatable: false,\n                    type: FLOAT\n                },\n                sweep: {\n                    value: 0.2,\n                    min: 0,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                },\n                resonance: {\n                    value: 10,\n                    min: 1,\n                    max: 100,\n                    automatable: false,\n                    type: FLOAT\n                },\n                sensitivity: {\n                    value: 0.5,\n                    min: -1,\n                    max: 1,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        activateCallback: {\n            value: function(value) {\n                this.automode = value;\n            }\n        },\n        automode: {\n            get: function() {\n                return this._automode;\n            },\n            set: function(value) {\n                this._automode = value;\n                if (value) {\n                    this.activateNode.connect(this.envelopeFollower.input);\n                    this.envelopeFollower.activate(true);\n                } else {\n                    this.envelopeFollower.activate(false);\n                    this.activateNode.disconnect();\n                    this.activateNode.connect(this.filterBp);\n                }\n            }\n        },\n        filterFreqTimeout: {\n            value: 0\n        },\n        setFilterFreq: {\n            value: function() {\n                try {\n                    this.filterBp.frequency.value = this._baseFrequency + this._excursionFrequency * this._sweep;\n                    this.filterPeaking.frequency.value = this._baseFrequency + this._excursionFrequency * this._sweep;\n                } catch (e) {\n                    clearTimeout(this.filterFreqTimeout);\n                    //put on the next cycle to let all init properties be set\n                    this.filterFreqTimeout = setTimeout(function() {\n                        this.setFilterFreq();\n                    }.bind(this), 0);\n                }\n            }\n        },\n        sweep: {\n            enumerable: true,\n            get: function() {\n                return this._sweep.value;\n            },\n            set: function(value) {\n                this._sweep = Math.pow(value > 1 ? 1 : value <\n                    0 ? 0 :\n                    value,\n                    this._sensitivity);\n                this.setFilterFreq();\n            }\n        },\n        baseFrequency: {\n            enumerable: true,\n            get: function() {\n                return this._baseFrequency;\n            },\n            set: function(value) {\n                this._baseFrequency = 50 * Math.pow(10, value *\n                    2);\n                this._excursionFrequency = Math.min(userContext\n                    .sampleRate /\n                    2,\n                    this.baseFrequency * Math.pow(2, this._excursionOctaves)\n                );\n                this.setFilterFreq();\n            }\n        },\n        excursionOctaves: {\n            enumerable: true,\n            get: function() {\n                return this._excursionOctaves;\n            },\n            set: function(value) {\n                this._excursionOctaves = value;\n                this._excursionFrequency = Math.min(userContext\n                    .sampleRate /\n                    2,\n                    this.baseFrequency * Math.pow(2, this._excursionOctaves)\n                );\n                this.setFilterFreq();\n            }\n        },\n        sensitivity: {\n            enumerable: true,\n            get: function() {\n                return this._sensitivity;\n            },\n            set: function(value) {\n                this._sensitivity = Math.pow(10, value);\n            }\n        },\n        resonance: {\n            enumerable: true,\n            get: function() {\n                return this._resonance;\n            },\n            set: function(value) {\n                this._resonance = value;\n                this.filterPeaking.Q = this._resonance;\n            }\n        },\n        init: {\n            value: function() {\n                this.output.gain.value = 1;\n                this.filterPeaking.type = \"peaking\";\n                this.filterBp.type = \"bandpass\";\n                this.filterPeaking.frequency.value = 100;\n                this.filterPeaking.gain.value = 20;\n                this.filterPeaking.Q.value = 5;\n                this.filterBp.frequency.value = 100;\n                this.filterBp.Q.value = 1;\n            }\n        }\n    });\n\n    Tuna.prototype.EnvelopeFollower = function(properties) {\n        if (!properties) {\n            properties = this.getDefaults();\n        }\n        this.input = userContext.createGain();\n        this.jsNode = this.output = userContext.createScriptProcessor(\n            this.buffersize,\n            1, 1);\n\n        this.input.connect(this.output);\n\n        this.attackTime = initValue(properties.attackTime, this.defaults\n            .attackTime\n            .value);\n        this.releaseTime = initValue(properties.releaseTime, this.defaults\n            .releaseTime\n            .value);\n        this._envelope = 0;\n        this.target = properties.target || {};\n        this.callback = properties.callback || function() {};\n    };\n    Tuna.prototype.EnvelopeFollower.prototype = Object.create(Super, {\n        name: {\n            value: \"EnvelopeFollower\"\n        },\n        defaults: {\n            value: {\n                attackTime: {\n                    value: 0.003,\n                    min: 0,\n                    max: 0.5,\n                    automatable: false,\n                    type: FLOAT\n                },\n                releaseTime: {\n                    value: 0.5,\n                    min: 0,\n                    max: 0.5,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        buffersize: {\n            value: 256\n        },\n        envelope: {\n            value: 0\n        },\n        sampleRate: {\n            value: 44100\n        },\n        attackTime: {\n            enumerable: true,\n            get: function() {\n                return this._attackTime;\n            },\n            set: function(value) {\n                this._attackTime = value;\n                this._attackC = Math.exp(-1 / this._attackTime *\n                    this.sampleRate /\n                    this.buffersize);\n            }\n        },\n        releaseTime: {\n            enumerable: true,\n            get: function() {\n                return this._releaseTime;\n            },\n            set: function(value) {\n                this._releaseTime = value;\n                this._releaseC = Math.exp(-1 / this._releaseTime *\n                    this.sampleRate /\n                    this.buffersize);\n            }\n        },\n        callback: {\n            get: function() {\n                return this._callback;\n            },\n            set: function(value) {\n                if (typeof value === \"function\") {\n                    this._callback = value;\n                } else {\n                    console.error(\"tuna.js: \" + this.name +\n                        \": Callback must be a function!\");\n                }\n            }\n        },\n        target: {\n            get: function() {\n                return this._target;\n            },\n            set: function(value) {\n                this._target = value;\n            }\n        },\n        activate: {\n            value: function(doActivate) {\n                this.activated = doActivate;\n                if (doActivate) {\n                    this.jsNode.connect(userContext.destination);\n                    this.jsNode.onaudioprocess = this.returnCompute(\n                        this);\n                } else {\n                    this.jsNode.disconnect();\n                    this.jsNode.onaudioprocess = null;\n                }\n            }\n        },\n        returnCompute: {\n            value: function(instance) {\n                return function(event) {\n                    instance.compute(event);\n                };\n            }\n        },\n        compute: {\n            value: function(event) {\n                var count = event.inputBuffer.getChannelData(0)\n                    .length,\n                    channels = event.inputBuffer.numberOfChannels,\n                    current, chan, rms, i;\n                chan = rms = i = 0;\n                if (channels > 1) { //need to mixdown\n                    for (i = 0; i < count; ++i) {\n                        for (; chan < channels; ++chan) {\n                            current = event.inputBuffer.getChannelData(chan)[i];\n                            rms += (current * current) / channels;\n                        }\n                    }\n                } else {\n                    for (i = 0; i < count; ++i) {\n                        current = event.inputBuffer.getChannelData(0)[i];\n                        rms += (current * current);\n                    }\n                }\n                rms = Math.sqrt(rms);\n\n                if (this._envelope < rms) {\n                    this._envelope *= this._attackC;\n                    this._envelope += (1 - this._attackC) * rms;\n                } else {\n                    this._envelope *= this._releaseC;\n                    this._envelope += (1 - this._releaseC) *\n                        rms;\n                }\n                this._callback(this._target, this._envelope);\n            }\n        }\n    });\n\n    Tuna.prototype.LFO = function(properties) {\n        //Instantiate AudioNode\n        this.output = userContext.createScriptProcessor(256, 1, 1);\n        this.activateNode = userContext.destination;\n\n        //Set Properties\n        this.frequency = initValue(properties.frequency, this.defaults.frequency\n            .value);\n        this.offset = initValue(properties.offset, this.defaults.offset.value);\n        this.oscillation = initValue(properties.oscillation, this.defaults\n            .oscillation\n            .value);\n        this.phase = initValue(properties.phase, this.defaults.phase.value);\n        this.target = properties.target || {};\n        this.output.onaudioprocess = this.callback(properties.callback ||\n            function() {});\n        this.bypass = properties.bypass || false;\n    };\n    Tuna.prototype.LFO.prototype = Object.create(Super, {\n        name: {\n            value: \"LFO\"\n        },\n        bufferSize: {\n            value: 256\n        },\n        sampleRate: {\n            value: 44100\n        },\n        defaults: {\n            value: {\n                frequency: {\n                    value: 1,\n                    min: 0,\n                    max: 20,\n                    automatable: false,\n                    type: FLOAT\n                },\n                offset: {\n                    value: 0.85,\n                    min: 0,\n                    max: 22049,\n                    automatable: false,\n                    type: FLOAT\n                },\n                oscillation: {\n                    value: 0.3,\n                    min: -22050,\n                    max: 22050,\n                    automatable: false,\n                    type: FLOAT\n                },\n                phase: {\n                    value: 0,\n                    min: 0,\n                    max: 2 * Math.PI,\n                    automatable: false,\n                    type: FLOAT\n                }\n            }\n        },\n        frequency: {\n            get: function() {\n                return this._frequency;\n            },\n            set: function(value) {\n                this._frequency = value;\n                this._phaseInc = 2 * Math.PI * this._frequency *\n                    this.bufferSize /\n                    this.sampleRate;\n            }\n        },\n        offset: {\n            get: function() {\n                return this._offset;\n            },\n            set: function(value) {\n                this._offset = value;\n            }\n        },\n        oscillation: {\n            get: function() {\n                return this._oscillation;\n            },\n            set: function(value) {\n                this._oscillation = value;\n            }\n        },\n        phase: {\n            get: function() {\n                return this._phase;\n            },\n            set: function(value) {\n                this._phase = value;\n            }\n        },\n        target: {\n            get: function() {\n                return this._target;\n            },\n            set: function(value) {\n                this._target = value;\n            }\n        },\n        activate: {\n            value: function(doActivate) {\n                if (!doActivate) {\n                    this.output.disconnect(userContext.destination);\n                } else {\n                    this.output.connect(userContext.destination);\n                }\n            }\n        },\n        callback: {\n            value: function(callback) {\n                var that = this;\n                return function() {\n                    that._phase += that._phaseInc;\n                    if (that._phase > 2 * Math.PI) {\n                        that._phase = 0;\n                    }\n                    callback(that._target, that._offset +\n                        that._oscillation *\n                        Math.sin(that._phase));\n                };\n            }\n        }\n    });\n\n    Tuna.toString = Tuna.prototype.toString = function() {\n        return \"Please visit https://github.com/Theodeus/tuna/wiki for instructions on how to use Tuna.js\";\n    };\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/tunajs/tuna.js\n ** module id = 17\n ** module chunks = 0\n **/"],"sourceRoot":""}