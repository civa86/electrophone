<html>
    <head>
        <title>Web Synth</title>
        <style>
            .note {
                padding:10px;
                border: 1px solid #000;
                margin: 10px;
            }
        </style>
    </head>
    <body>

        <div class="note" data-note="261.626">C4</div>
        <div class="note" data-note="293.665">D4</div>
        <div class="note" data-note="329.628">E4</div>
        <div class="note" data-note="349.228">F4</div>
        <div class="note" data-note="391.995">G4</div>
        <div class="note" data-note="440.000">A4</div>
        <div class="note" data-note="493.883">B4</div>


        <script src="../dist/web-synth.min.js"></script>
        <script>
            window.onload = function () {
                var notes = document.getElementsByClassName('note');
                var synth = new WebSynth();

                for (var i = 0; i < notes.length; i++) {

                    (function(i){
                        var current = notes[i];
                        current.addEventListener('mousedown', function(){
                            var freq = current.getAttribute('data-note');
                            synth.play(freq);
                        }, false);

                        current.addEventListener('mouseup', function(){
                            var freq = current.getAttribute('data-note');
                            synth.stop(freq);
                        }, false);
                    })(i);

                }


                synth.oscillator('OSC-A', {
                    type: 'sine',
                    level: 1,
                    link: 'F1'
                });

                synth.oscillator('OSC-B', {
                    type: 'sine',
                    level: 1,
                    link: 'F1'
                });

                synth.filter('F1', {
                    type: 'lowpass',
                    frequency: '400',
                    link: 'master'
                });
            };

        </script>
    </body>
</html>
